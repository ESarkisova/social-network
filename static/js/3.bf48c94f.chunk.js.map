{"version":3,"sources":["components/Login/index.module.css","assets/refresh.svg","components/Login/Login.jsx"],"names":["module","exports","LoginFormRedux","reduxForm","form","props","onSubmit","handleSubmit","className","cn","form_login","createField","Input","required","type","id","htmlFor","captcha","onClick","getCaptcha","src","refresh","alt","error","cnFormControl","errorMessage","connect","state","login","auth","username","userId","isAuth","setAuth","to","login__wrapp","formData"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,aAAe,4BAA4B,WAAa,0BAA0B,QAAU,uBAAuB,eAAiB,gC,oBCDtJD,EAAOC,QAAU,IAA0B,qC,iCCA3C,iIA2CMC,EAAiBC,YAAU,CAACC,KAAM,SAAjBD,EA9BP,SAACE,GACb,OACI,0BAAMC,SAAUD,EAAME,aAAcC,UAAWC,IAAGC,YAC7CC,YAAY,QAAQC,IAAO,QAAQ,CAACC,KAAU,CAACC,KAAM,UACrDH,YAAY,WAAWC,IAAO,WAAW,CAACC,KAAU,CAACC,KAAM,aAC5D,6BACKH,YAAY,aAAa,QAAQ,GAAG,GAAG,CAACG,KAAM,WAAYC,GAAI,eAC/D,2BAAOC,QAAQ,cAAf,oFAEHX,EAAMY,SACH,6BACI,4BAAQH,KAAK,SAASI,QAASb,EAAMc,YAAY,yBAAKC,IAAKC,IAASC,IAAI,aACxE,yBAAKd,UAAWC,IAAGQ,QAASG,IAAKf,EAAMY,QAASK,IAAI,YACnDX,YAAY,UAAUC,IAAO,GAAG,CAACC,KAAU,CAACC,KAAM,UAI1DT,EAAMkB,OACP,wBAAIf,UAAagB,IAAcC,cAC1BpB,EAAMkB,OAMX,4BAAQT,KAAK,UAAb,aAqCGY,uBAVO,SAACC,GACnB,MAAQ,CACJC,MAAOD,EAAME,KAAKC,SAClBC,OAAQJ,EAAME,KAAKE,OACnBd,QAASU,EAAME,KAAKZ,QACpBe,OAAQL,EAAME,KAAKG,UAKa,CAACC,YAASd,gBAAnCO,EA9BH,SAACrB,GAMT,OAAIA,EAAM2B,OACC,kBAAC,IAAD,CAAWE,GAAG,aAIjB,yBAAK1B,UAAWC,IAAG0B,cACf,oNACA,kBAACjC,EAAD,CAAgBI,SAXX,SAAC8B,GACd/B,EAAM4B,QAAQG,IAU8BnB,QAAWZ,EAAMY,QAASE,WAAYd,EAAMc","file":"static/js/3.bf48c94f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login__wrapp\":\"Login_login__wrapp__1qI6s\",\"form_login\":\"Login_form_login__QNlsp\",\"captcha\":\"Login_captcha__1b4t6\",\"captcha__input\":\"Login_captcha__input__1qvQ9\"};","module.exports = __webpack_public_path__ + \"static/media/refresh.82bf759d.svg\";","import React from 'react';\r\nimport {reduxForm} from \"redux-form\";\r\nimport cn from './index.module.css';\r\nimport cnFormControl from '../common/FormComponents/index.module.css';\r\nimport {connect} from \"react-redux\";\r\nimport {getCaptcha, setAuth} from \"../../Redux/auth-reducer\";\r\nimport {createField, Input} from \"../common/FormComponents/FormComponents\";\r\nimport {required} from \"../common/validate/validate\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport refresh from \"../../assets/refresh.svg\";\r\n\r\n\r\n\r\nlet LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={cn.form_login}>\r\n            {createField(\"email\",Input, \"Email\",[required],{type: \"email\"})}\r\n            {createField(\"password\",Input, \"Password\",[required],{type: \"password\"})}\r\n            <div>\r\n                {createField(\"rememberMe\",\"input\",'',[],{type: \"checkbox\", id: \"rememberMe\"})}\r\n                <label htmlFor=\"rememberMe\">Запомнить меня</label>\r\n            </div>\r\n            {props.captcha &&\r\n                <div>\r\n                    <button type=\"button\" onClick={props.getCaptcha}><img src={refresh} alt=\"refresh\"/></button>\r\n                    <img className={cn.captcha} src={props.captcha} alt=\"captcha\" />\r\n                    {createField(\"captcha\",Input, \"\",[required],{type: \"text\"})}\r\n                </div>\r\n            }\r\n\r\n            {props.error &&\r\n            <ul className = {cnFormControl.errorMessage}>\r\n                {props.error}\r\n            </ul>\r\n            }\r\n\r\n\r\n\r\n            <button type=\"submit\">Login</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginFormRedux = reduxForm({form: 'login'})(LoginForm);\r\n\r\nlet Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.setAuth(formData);\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect  to=\"/profile\" />\r\n    }\r\n\r\n    return (\r\n            <div className={cn.login__wrapp}>\r\n                <h1>Введите, пожалуйста, логин и пароль</h1>\r\n                <LoginFormRedux onSubmit={onSubmit} captcha = {props.captcha} getCaptcha={props.getCaptcha}/>\r\n            </div>\r\n        )\r\n\r\n\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n    return ({\r\n        login: state.auth.username,\r\n        userId: state.auth.userId,\r\n        captcha: state.auth.captcha,\r\n        isAuth: state.auth.isAuth\r\n    });\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, {setAuth, getCaptcha})(Login);"],"sourceRoot":""}