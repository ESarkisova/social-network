{"version":3,"sources":["components/Profile/ProfileInfo/index.module.css","DAL/api.js","Redux/dialogs-reducer.js","assets/addPhoto.svg","components/common/FormComponents/FormComponents.jsx","serviceWorker.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Nav/Friends/Friend/index.jsx","components/Nav/Friends/Friends.jsx","components/Nav/Friends/FriendsContainer.jsx","components/Nav/index.jsx","components/Profile/Post/index.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileAvatar/ProfileAvatar.jsx","components/Profile/ProfileInfo/ProfileDetails/ProfileDetails.jsx","components/Profile/ProfileInfo/ProfileDetails/ProfileDetailsForm.jsx","components/Profile/ProfileInfo/index.jsx","components/common/Preloader/index.jsx","components/Profile/Profile.jsx","components/common/validate/helper.js","Redux/profile-reducer.js","components/Profile/ProfileContainer.jsx","Redux/users-reducer.js","components/Users/User/index.jsx","components/common/Pagination/Pagination.jsx","components/Users/Users.jsx","Redux/selectors.js","components/Users/UsersContainer.jsx","Redux/app-reducer.js","HOC/withSuspense.js","App.js","Redux/sidebar-reducer.js","Redux/redux-store.js","index.js","components/Nav/index.module.css","components/Users/index.module.css","components/common/Pagination/index.module.css","components/common/validate/validate.js","components/Nav/Friends/index.module.css","Redux/auth-reducer.js","components/common/FormComponents/index.module.css","components/common/Preloader/index.module.css","assets/userpic.png","components/Profile/Post/index.module.css","components/Header/index.module.css","components/Profile/index.module.css"],"names":["module","exports","instance","axios","withCredentials","headers","baseURL","userAPI","getUsers","pageSize","currentPage","get","then","response","data","follow","userId","post","unFollow","delete","profileAPI","getProfile","setProfile","profile","put","getStatus","setStatus","status","setAvatar","img","formData","FormData","append","authAPI","getAuth","setAuth","loginData","delAuth","getCaptcha","securityAPI","ADD_MESSAGE","initialState","dialogList","id","name","ava","messageList","text","onAddMessage","newMessageText","dispatch","type","sendMessage","reset","dialogsReducer","state","action","newMessage","FormComponentWithValidation","input","meta","props","child","hasError","touched","error","className","cn","formControl","children","errorMessage","Textarea","restProps","Input","createField","component","placeholder","validate","Boolean","window","location","hostname","match","Header","header","src","alt","isAuth","onClick","link","login","to","HeaderAPI","this","React","Component","HeaderContainer","connect","auth","Friend","friend","activeClassName","active","friend__ava","friend__name","Friends","friendElements","friendList","map","key","friends__wrapper","FriendsContainer","sidebar","Nav","nav","item","memo","ProfileStatus","useState","editStatusMode","setEditStatusMode","useEffect","toggleEditStatusMode","e","isOwner","value","autoFocus","onBlur","onChange","currentTarget","onDoubleClick","ProfileAvatar","isLoadingAvatar","profileInfo","loading","photos","large","noAvatarImage","fullName","inputFile","accept","files","length","addPhoto","Contact","contactName","contactValue","contactsItem","href","ProfileDetails","changeShowEditProfile","lookingForAJob","lookingForAJobDescription","aboutMe","Object","keys","contacts","detailsEditButton","reduxForm","form","onSubmit","handleSubmit","isSavingProfile","fieldWrap","required","cnFormControl","ProfileInfo","showEditProfile","info","infoLeft","details","initialValues","Preloader","preloader__wrap","preload__circle","preload__circle2","maxLength50","maxValueCreator","NewPostForm","Profile","postElements","postList","likes","onAddPost","newPost","posts","errorToObject","fieldsObject","errors","names","objectToArray","obj","prefix","entries","push","errorsObj","forEach","some","fieldName","toLowerCase","indexOf","substr","fieldNameArr","split","actionType","ADD_POST","SET_PROFILE_INFO","CHANGE_STATUS_TEXT","CHANGE_AVATAR","CHANGE_IS_LOADING_AVATAR","CHANGE_SHOW_EDIT_PROFILE","CHANGE_IS_SAVING_PROFILE","changeStatus","changeLoadingAvatar","changeIsSavingProfile","a","async","profileReducer","newPostText","ProfileAPI","userID","params","authUser","history","prevProps","prevState","userIDPrev","compose","withRouter","profilePage","sendPost","resultCode","getState","errorsObject","messages","stopSubmit","FOLLOW","SET_USER","SET_CURRENT_PAGE","SET_USER_COUNT","CHANGE_IS_LOADING","CHANGE_IS_FOLLOWING","userList","paginationPageSize","userCount","isLoading","isFollowing","followSuccess","changeLoading","changeFollowing","followUnfollow","apiMethod","usersReducer","u","followed","filter","User","user","unfollow","user__wrap","user__wrap_img","small","thumb","user__follow","disabled","user__info","user__name","user__status","user__location","Pagination","setPage","pageCount","Math","ceil","pageArr","allPages","posPagin","pagination","i","startPos","floor","unshift","getPagination","pagination__wrap","pageNum","index","classNames","pagination__item","pagination__space","pagination__item_current","Users","getPageSizeSlc","usersPage","getUsersRslc","createSelector","users","getUserCountSlc","getCurrentPageSlc","getIsLoadingSlc","getIsFollowingSlc","UserAPI","setCurrentPage","UsersContainer","bind","items","totalCount","INITIALIZATION_SUCCESS","initialized","appReducer","withSuspense","fallback","Dialog","lazy","Login","App","initialization","exact","from","path","render","app","authMe","sidebarReducer","reducers","combineReducers","dialogsPage","authReducer","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","maxValue","SET_AUTH_USER","DEL_AUTH_USER","SET_CAPTCHA","email","captcha","setAuthUser","_error","join","captchaURL","url"],"mappings":"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","file":"static/js/main.3fe21a1a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"ProfileInfo_info__36t-A\",\"infoLeft\":\"ProfileInfo_infoLeft__3L1eg\",\"ava\":\"ProfileInfo_ava__3HBR1\",\"loading\":\"ProfileInfo_loading__QaKRj\",\"spin\":\"ProfileInfo_spin__miOFt\",\"inputFile\":\"ProfileInfo_inputFile__3EhNu\",\"name\":\"ProfileInfo_name__1a8Ni\",\"details\":\"ProfileInfo_details__2U98i\",\"status\":\"ProfileInfo_status__VdzTb\",\"contactsItem\":\"ProfileInfo_contactsItem__31MPG\",\"detailsEditButton\":\"ProfileInfo_detailsEditButton__2TmmC\",\"fieldWrap\":\"ProfileInfo_fieldWrap__1gvbd\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '4c873569-9ded-4ac6-9934-04ffb8f5a7e2'\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n});\r\nexport const userAPI = {\r\n    getUsers(pageSize, currentPage) {\r\n        return instance.get(`users?count=${pageSize}&page=${currentPage}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    unFollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    setProfile(profile) {\r\n        return instance.put(`profile/`, profile)\r\n            .then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    setStatus(status) {\r\n        return instance.put('profile/status', {status})\r\n            .then(response => response.data);\r\n    },\r\n    setAvatar(img) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", img);\r\n        const config = { headers: { 'Content-Type': 'multipart/form-data' } };\r\n\r\n        return instance.put('profile/photo', formData, config)\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => response.data);\r\n    },\r\n    setAuth(loginData) {\r\n        return instance.post('/auth/login', {...loginData})\r\n            .then(response => response.data);\r\n    },\r\n    delAuth() {\r\n        return instance.delete('/auth/login')\r\n            .then(response => response.data);\r\n    },\r\n    getCaptcha() {\r\n        return instance.get('/security/get-captcha-url')\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get('/security/get-captcha-url')\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\n","import {reset} from 'redux-form';\r\n\r\nconst prefix = (actionType) => \"dialogs/\" + actionType;\r\n\r\nconst ADD_MESSAGE = prefix('ADD_MESSAGE');\r\nlet initialState = {\r\n    dialogList: [\r\n        {id: 1, name: \"Lena\", ava: \"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg\"},\r\n        {\r\n            id: 2,\r\n            name: \"Sveta\",\r\n            ava: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLQH5fsQDLH3DZjPBQE0dvFa5fx-XaSo3yiMdLP6SI9_3ZAMv5&s\"\r\n        },\r\n        {id: 3, name: \"Petya\", ava: \"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg\"}\r\n    ],\r\n    messageList: [\r\n        {id: 1, text: \"Hi\"},\r\n        {id: 5, text: \"Hi-hi\"},\r\n        {id: 6, text: \"hi!\"}\r\n    ]\r\n};\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n\r\n            let newMessage = {\r\n                id: 99,\r\n                text: action.newMessageText\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                newMessage: '',\r\n                messageList: [...state.messageList, newMessage]\r\n            };\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessage = (newMessageText) => ({\r\n    type: ADD_MESSAGE,\r\n    newMessageText\r\n});\r\n\r\nexport const onAddMessage = (newMessageText) => {\r\n    return (dispatch) => {\r\n        dispatch(sendMessage(newMessageText));\r\n        dispatch(reset('addMessage'));\r\n    };\r\n};\r\n\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/addPhoto.3d3e56e7.svg\";","import React from \"react\";\r\nimport cn from \"./index.module.css\";\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormComponentWithValidation = ({input, meta, child, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className ={cn.formControl +\" \"+ (hasError ? cn.error : \"\")}>\r\n            {props.children}\r\n            { hasError && <span className = {cn.errorMessage}> {meta.error} </span>}\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n\r\n        <FormComponentWithValidation {...props}> <textarea {...input}  {...restProps} /> </FormComponentWithValidation>\r\n    )\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n\r\n        <FormComponentWithValidation {...props}><input {...input} {...restProps} /> </FormComponentWithValidation>\r\n    )\r\n\r\n};\r\n\r\nexport const createField = (name, component, placeholder = \"\", validate = [], props) => {\r\n    return <Field  name = {name}\r\n                   placeholder = {placeholder}\r\n                   component = {component}\r\n                   validate = {validate}\r\n                   {...props}></Field>\r\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport cn from './index.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = (props) => {\n  return (\n    <div className={cn.header}>\n    \t<img src=\"https://css-tricks.com/wp-content/uploads/2015/05/kiwi.svg\" alt=\"logo\"/>\n    \t<div>\n            {props.isAuth ?  <span onClick={props.delAuth} className={cn.link}>Выйти, {props.login}</span> : <NavLink to='/login'> Login </NavLink>}\n        </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React, {component} from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport { delAuth} from \"../../Redux/auth-reducer\";\n\nclass HeaderAPI extends React.Component{\n\n\n    render() {\n      return <Header {...this.props}/>\n  }\n}\nlet mapStateToProps = (state) => {\n    return ({\n        login: state.auth.login,\n        isAuth: state.auth.isAuth\n    });\n};\n\nlet HeaderContainer = connect(mapStateToProps, {delAuth})(HeaderAPI);\n\nexport default HeaderContainer;\n","import React from 'react';\nimport cn from '../index.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Friend = ({ava, name}) => {\n  return (\n\t<NavLink className={cn.friend} activeClassName={cn.active} to=\"/\">\n\t\t<img src={ava} alt={name} className={cn.friend__ava}/>\n\t\t<span className={cn.friend__name}>{name}</span>\n\t</NavLink>\n  );\n};\n\nexport default Friend;\n","import React from 'react';\nimport cn from './index.module.css';\nimport Friend from \"./Friend\";\n\nconst Friends = ({friendList}) => {\n\tlet friendElements = friendList.map( ({id,name,ava}) => <Friend key = {id} id={id} name={name} ava={ava}/>);\n  return (\n\t<div className={cn.friends__wrapper}>\n\t\t{\n\t\t\tfriendElements\n\t\t}\n\t</div>\n  );\n};\n\nexport default Friends;\n","import React from 'react';\nimport Friends from \"./Friends\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToProps = (state) => {return {\n    friendList: state.sidebar.friendList\n}};\n\n\nconst FriendsContainer = connect(mapStateToProps, {})(Friends);\n\nexport default FriendsContainer;\n","import React from 'react';\nimport cn from './index.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport Friends from \"./Friends/FriendsContainer\";\n\nconst Nav = (props) => {\n  return (\n\t<nav className={cn.nav}>\n\t\t<div>\n\t\t\t<NavLink className={cn.item} activeClassName={cn.active} to=\"/profile\">Профиль</NavLink>\n\t\t\t<NavLink className={cn.item} activeClassName={cn.active} to=\"/dialogs\">Диалоги</NavLink>\n\t\t\t<NavLink className={cn.item} activeClassName={cn.active} to=\"/users\">Пользователи</NavLink>\n\t\t</div>\n\t\t<Friends/>\n\t</nav>\n  );\n};\n\nexport default Nav;\n","import React from 'react';\nimport cn from './index.module.css';\n\nconst Post = ({ava, text}) => {\n\n    return (\n        <div className={cn.post}>\n            <div className={cn.ava}>\n                <img src={ava} alt=\"\"/>\n            </div>\n            <div className={cn.post}>{text}</div>\n        </div>\n    );\n};\n\nexport default React.memo(Post);","import React, {useState, useEffect} from \"react\";\r\nimport cn from '../index.module.css';\r\n\r\nconst ProfileStatus = (props) => {\r\n    let [editStatusMode, setEditStatusMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status);\r\n    }, [props.status] );\r\n\r\n    const toggleEditStatusMode = (e) => {\r\n        if(editStatusMode) {\r\n            props.setStatus(status)\r\n        }\r\n        setEditStatusMode(!editStatusMode);\r\n\r\n    };\r\n    const onChangeStatusText = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n\r\n        return <div className={cn.status}>\r\n            {props.isOwner?\r\n                editStatusMode ?\r\n                    <input type=\"text\"  value={status} autoFocus={true} onBlur={toggleEditStatusMode} onChange={onChangeStatusText}/>\r\n                    : <span onDoubleClick={toggleEditStatusMode}>{status || \"Input your status...\"}</span>\r\n                : <span>{status}</span>\r\n            }\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n};\r\n\r\nexport default ProfileStatus;","import React from \"react\";\r\nimport cn from '../index.module.css';\r\nimport noAvatarImage from \"../../../../assets/userpic.png\";\r\nimport addPhoto from \"../../../../assets/addPhoto.svg\";\r\n\r\nconst ProfileAvatar = ({isLoadingAvatar, profileInfo, isOwner, setAvatar}) => {\r\n    const changeAvatar = (e) => {\r\n        if(e.currentTarget.files.length) {\r\n            setAvatar(e.currentTarget.files[0]);\r\n        }\r\n    };\r\n\r\n        return  (\r\n                <div className={cn.ava+' '+ (isLoadingAvatar ? cn.loading : '')}>\r\n                    <img src={profileInfo.photos.large ? profileInfo.photos.large : noAvatarImage} alt={profileInfo.fullName}/>\r\n                    {isOwner && <label className={cn.inputFile}>\r\n                        <input type=\"file\" accept=\"image/*\" onChange={changeAvatar}/>\r\n                        <img src={addPhoto} alt=\"Add photo\"/>\r\n                    </label>}\r\n                </div>\r\n            )\r\n\r\n\r\n\r\n\r\n};\r\n\r\nexport default ProfileAvatar;","import React from \"react\";\r\nimport cn from \"../index.module.css\";\r\n\r\nconst ProfileDetails = ({profileInfo, changeShowEditProfile, isOwner}) => {\r\n\r\n\r\n        return  (\r\n                <>\r\n                    <div>\r\n                        <div>{profileInfo.lookingForAJob ?\r\n                            profileInfo.lookingForAJobDescription ?\r\n                                \"Ищу работу: \" + profileInfo.lookingForAJobDescription : \"Ищу работу\" :\r\n                            \"Не ищу работу\"}\r\n                        </div>\r\n                        <div>\r\n                            <b>Обо мне: </b>{profileInfo.aboutMe }\r\n                        </div>\r\n                        <div>\r\n                            <b>Контакты:</b>\r\n                            {Object.keys(profileInfo.contacts).map((key) => {\r\n                                return <Contact key={key} contactName={key} contactValue={profileInfo.contacts[key]}/>\r\n                            }) }\r\n                        </div>\r\n                        <hr/>\r\n                        {isOwner &&\r\n                                <button className={cn.detailsEditButton} onClick = { () => {changeShowEditProfile(true);} }>Редактировать</button>}\r\n\r\n                    </div>\r\n                </>\r\n            )\r\n\r\n\r\n\r\n\r\n};\r\n\r\nconst Contact = ({contactName, contactValue}) => {\r\n    return (\r\n        <p className={cn.contactsItem}><b>{contactName}: </b>{contactValue ? <a href={contactValue}>{contactValue}</a> : ''}</p>\r\n    );\r\n};\r\n\r\nexport default ProfileDetails;","import React from \"react\";\r\nimport {createField, Input, Textarea} from \"../../../common/FormComponents/FormComponents\";\r\nimport cnFormControl from \"../../../common/FormComponents/index.module.css\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport cn from \"../index.module.css\";\r\nimport {required} from \"../../../common/validate/validate\";\r\n\r\nconst ProfileDetailsForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={props.isSavingProfile ? cn.loading : ''}>\r\n            <div className={cn.fieldWrap}>\r\n                <b>Полное имя: </b>\r\n                {createField(\"fullName\",Input, \"Введите имя...\",[required],{type: \"text\"})}</div>\r\n            <div className={cn.fieldWrap}>\r\n                <b>Обо мне: </b>\r\n                {createField(\"aboutMe\",Textarea, \"Напишите кратко о себе...\",[required],)}</div>\r\n            <div className={cn.fieldWrap}>\r\n                <b>Ищу работу: </b>\r\n                {createField(\"lookingForAJob\",Input, \"\",[],{type: \"checkbox\"})}</div>\r\n            <div className={cn.fieldWrap}>\r\n                <b>Ищу работу - описание: </b>\r\n                {createField(\"lookingForAJobDescription\",Textarea, \"Укажите профессиональные навыки...\",[required],)}</div>\r\n            <b>Контакты: </b><br/>\r\n            <div className={cn.fieldWrap}>\r\n                {Object.keys(props.profileInfo.contacts).map((key) => {\r\n                    return <Contact key = {key} contactName = {key} />\r\n                })}\r\n            </div>\r\n            {props.error &&\r\n            <ul className = {cnFormControl.errorMessage}>\r\n                {props.error}\r\n            </ul>\r\n            }\r\n\r\n            <hr/>\r\n\r\n            <button className={cn.detailsEditButton}>Сохранить</button>\r\n        </form>\r\n    )\r\n\r\n};\r\n\r\nconst Contact = ({contactName}) => {\r\n    return (\r\n        <>\r\n            <b>Ссылка на: {contactName} </b>\r\n            {createField(\"contacts.\"+contactName,Input, \"\",[],{type: \"text\"})}\r\n         </>\r\n    )\r\n};\r\n\r\nexport default  reduxForm({form: 'editProfile'})(ProfileDetailsForm);\r\n","import React from 'react';\nimport cn from './index.module.css';\nimport ProfileStatus from \"./ProfileStatus/ProfileStatus\";\nimport ProfileAvatar from \"./ProfileAvatar/ProfileAvatar\";\nimport ProfileDetails from \"./ProfileDetails/ProfileDetails\";\nimport ProfileDetailsForm from \"./ProfileDetails/ProfileDetailsForm\";\n\nconst ProfileInfo = ({profileInfo, status, setStatus, isOwner, setAvatar, isLoadingAvatar, setProfile, showEditProfile, changeShowEditProfile, isSavingProfile}) => {\n\n    const onSubmitEditProfileForm = (formData) => {\n        setProfile(formData);\n    };\n\n\n    return (\n        <>\n            <div className={cn.info}>\n                <div className={cn.infoLeft}>\n                    <ProfileAvatar\n                        isLoadingAvatar={isLoadingAvatar}\n                        profileInfo={profileInfo}\n                        isOwner={isOwner}\n                        setAvatar={setAvatar} />\n                    <div>\n                        <h2 className={cn.name}>{profileInfo.fullName}</h2>\n                        <ProfileStatus status={status} setStatus = {setStatus} isOwner = {isOwner}/>\n                    </div>\n                </div>\n                <div className={cn.details}>\n                    {showEditProfile ?  <ProfileDetailsForm\n                        onSubmit={onSubmitEditProfileForm}\n                        profileInfo = {profileInfo}\n                        initialValues={profileInfo}\n                        isSavingProfile = {isSavingProfile}/>\n                        : <ProfileDetails\n                            profileInfo = {profileInfo}\n                            isOwner={isOwner}\n                            changeShowEditProfile = {changeShowEditProfile}/>}\n\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default ProfileInfo;","import React from 'react';\r\nimport cn from './index.module.css';\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div className={cn.preloader__wrap}>\r\n            <div className={cn.preload__circle}></div>\r\n            <div className={`${cn.preload__circle} ${cn.preload__circle2}`}></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Preloader;","import React from 'react';\nimport cn from './index.module.css';\nimport Post from './Post'\nimport ProfileInfo from \"./ProfileInfo\";\nimport Preloader from \"../common/Preloader\";\nimport {reduxForm} from \"redux-form\";\nimport {createField, Textarea} from \"../common/FormComponents/FormComponents\";\nimport {maxValueCreator, required} from \"../common/validate/validate\";\n\nconst maxLength50 = maxValueCreator(50);\n\nlet NewPostForm = (props) => {\n\n\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                {createField(\"newPost\", Textarea,\"Add new post...\",[required, maxLength50])}\n            </div>\n            <button>Add post</button>\n        </form>\n    )\n};\n\nNewPostForm = reduxForm({form: \"addPost\"})(NewPostForm);\n\nconst Profile = (props) => {\n    if (!props.profileInfo) return <Preloader/>\n\n    let postElements = props.postList.map(({id, likes, text, img}) => <Post text={text} key={id} ava={img}\n                                                                            likes={likes}/>);\n\n\n    let addPost = (formData) => {\n        props.onAddPost(formData.newPost);\n    };\n    return (\n        <div className={cn.profile}>\n            <ProfileInfo profileInfo={props.profileInfo}\n                         isOwner = {props.isOwner}\n                         status={props.status}\n                         setStatus={props.setStatus}\n                         setAvatar={props.setAvatar}\n                         isLoadingAvatar={props.isLoadingAvatar}\n                         setProfile = {props.setProfile}\n                         showEditProfile = {props.showEditProfile}\n                         changeShowEditProfile = {props.changeShowEditProfile}\n                         isSavingProfile = {props.isSavingProfile}/>\n            <NewPostForm onSubmit = {addPost}/>\n            <div className={cn.posts}>\n                {\n                    postElements\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default Profile;\n","const DIVIDER_FIELD_NAME = '->';\r\n\r\nconst objectToArray = (obj, prefix) => {\r\n    let names = [];\r\n\r\n    for (let [key] of Object.entries(obj)) {\r\n        if ((typeof obj[key] == 'object') && obj[key] !== null) names.push(...objectToArray(obj[key], key));\r\n        else names.push(prefix? prefix + DIVIDER_FIELD_NAME + key : key);\r\n    }\r\n    return names;\r\n};\r\n\r\nexport const errorToObject = (fieldsObject, errors) => {\r\n    const names = objectToArray(fieldsObject);\r\n    let errorsObj = {};\r\n    errors.forEach( error => {\r\n        names.some( fieldName => {\r\n            if( error.toLowerCase().indexOf(`(${fieldName.toLowerCase()})`) !== -1){\r\n                error = error.substr(0, error.length - fieldName.length - 2);\r\n                if(fieldName.indexOf(DIVIDER_FIELD_NAME) !== -1) {\r\n                    const fieldNameArr = fieldName.split(DIVIDER_FIELD_NAME);\r\n                    if(errorsObj[fieldNameArr[0]]) {\r\n                        errorsObj[fieldNameArr[0]][fieldNameArr[1]] =  error;\r\n                    } else {\r\n                        errorsObj[fieldNameArr[0]] = {};\r\n                        errorsObj[fieldNameArr[0]][fieldNameArr[1]] =  error;\r\n                    }\r\n                } else {\r\n                    errorsObj[fieldName] =  error;\r\n                }\r\n\r\n                return;\r\n            }\r\n        });\r\n    });\r\n\r\n    return errorsObj;\r\n};","import {profileAPI} from \"../DAL/api\";\r\nimport {reset, stopSubmit} from \"redux-form\";\r\nimport {errorToObject} from \"../components/common/validate/helper\";\r\n\r\nconst prefix = (actionType) => \"profile/\" + actionType;\r\n\r\n\r\nconst ADD_POST = prefix('ADD_POST'),\r\n    SET_PROFILE_INFO = prefix('SET_PROFILE_INFO'),\r\n    CHANGE_STATUS_TEXT = prefix('CHANGE_STATUS_TEXT'),\r\n    CHANGE_AVATAR = prefix('CHANGE_AVATAR'),\r\n    CHANGE_IS_LOADING_AVATAR = prefix('CHANGE_IS_LOADING_AVATAR'),\r\n    CHANGE_SHOW_EDIT_PROFILE = prefix('CHANGE_SHOW_EDIT_PROFILE'),\r\n    CHANGE_IS_SAVING_PROFILE = prefix('CHANGE_IS_SAVING_PROFILE');\r\n\r\nlet initialState = {\r\n    postList: [\r\n        {\r\n            id: 1,\r\n            likes: 1,\r\n            text: \"Hi post\",\r\n            img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQuPW0HsI_bYceB2aH6y7h3tZuFJj3u0K-8HsbvlWpDU1SbY5-I\"\r\n        },\r\n        {\r\n            id: 2,\r\n            likes: 5,\r\n            text: \"Hi-hi post\",\r\n            img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQuPW0HsI_bYceB2aH6y7h3tZuFJj3u0K-8HsbvlWpDU1SbY5-I\"\r\n        },\r\n        {\r\n            id: 3,\r\n            likes: 6,\r\n            text: \"hi post!\",\r\n            img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQuPW0HsI_bYceB2aH6y7h3tZuFJj3u0K-8HsbvlWpDU1SbY5-I\"\r\n        }\r\n    ],\r\n    profileInfo: null,\r\n    status: null,\r\n    isLoadingAvatar: false,\r\n    showEditProfile: false,\r\n    isSavingProfile: false\r\n\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 88,\r\n                likes: 0,\r\n                text: action.newPostText,\r\n                img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQuPW0HsI_bYceB2aH6y7h3tZuFJj3u0K-8HsbvlWpDU1SbY5-I\"\r\n            };\r\n            return {\r\n                ...state,\r\n                postList: [...state.postList, newPost]\r\n            };\r\n\r\n\r\n        case SET_PROFILE_INFO:\r\n\r\n            return {\r\n                ...state,\r\n                profileInfo: action.profile\r\n            };\r\n        case CHANGE_STATUS_TEXT:\r\n\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        case CHANGE_AVATAR:\r\n\r\n            return {\r\n                ...state,\r\n                profileInfo: {...state.profileInfo, photos: action.photos}\r\n            };\r\n        case CHANGE_IS_LOADING_AVATAR:\r\n\r\n            return {\r\n                ...state,\r\n                isLoadingAvatar: action.isLoadingAvatar\r\n            };\r\n\r\n        case CHANGE_SHOW_EDIT_PROFILE:\r\n\r\n            return {\r\n                ...state,\r\n                showEditProfile: action.showEditProfile\r\n            };\r\n        case CHANGE_IS_SAVING_PROFILE:\r\n\r\n            return {\r\n                ...state,\r\n                isSavingProfile: action.isSavingProfile\r\n            };\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendPost = (newPostText) => ({\r\n    type: ADD_POST,\r\n    newPostText\r\n});\r\n\r\nexport const onAddPost = (newPostText) => {\r\n    return (dispatch) => {\r\n        dispatch(sendPost(newPostText));\r\n        dispatch(reset('addPost'));\r\n    };\r\n};\r\n\r\nexport const setProfileInfo = (profile) => ({\r\n    type: SET_PROFILE_INFO,\r\n    profile\r\n});\r\n\r\nexport const changeStatus = (status) => ({\r\n    type: CHANGE_STATUS_TEXT,\r\n    status\r\n});\r\nexport const changeAvatar = (photos) => ({\r\n    type: CHANGE_AVATAR,\r\n    photos\r\n});\r\nexport const changeLoadingAvatar = (isLoadingAvatar) => ({\r\n    type: CHANGE_IS_LOADING_AVATAR,\r\n    isLoadingAvatar\r\n});\r\nexport const changeShowEditProfile = (showEditProfile) => ({\r\n    type: CHANGE_SHOW_EDIT_PROFILE,\r\n    showEditProfile\r\n});\r\nexport const changeIsSavingProfile = (isSavingProfile) => ({\r\n    type: CHANGE_IS_SAVING_PROFILE,\r\n    isSavingProfile\r\n});\r\nexport const getProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        const data = await profileAPI.getProfile(userId);\r\n        dispatch(setProfileInfo(data));\r\n    }\r\n};\r\nexport const getStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        const data = await profileAPI.getStatus(userId);\r\n        dispatch(changeStatus(data));\r\n    }\r\n};\r\nexport const setStatus = (status) => {\r\n    return async (dispatch) => {\r\n        const data = await profileAPI.setStatus(status);\r\n        if (data.resultCode === 0) {\r\n            dispatch(changeStatus(status));\r\n        }\r\n\r\n    }\r\n};\r\n\r\n\r\nexport const setAvatar = (img) => {\r\n    return async (dispatch) => {\r\n        dispatch(changeLoadingAvatar(true));\r\n        const data = await profileAPI.setAvatar(img);\r\n        if (data.resultCode === 0) {\r\n            dispatch(changeAvatar(data.data.photos));\r\n        }\r\n        dispatch(changeLoadingAvatar(false));\r\n\r\n    }\r\n};\r\nexport const setProfile = (profile) => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(changeIsSavingProfile(true));\r\n        const data = await profileAPI.setProfile(profile);\r\n        if (data.resultCode === 0) {\r\n            dispatch(getProfile(getState().auth.userId));\r\n            dispatch(changeShowEditProfile(false));\r\n        } else {\r\n            const errorsObject = errorToObject(profile, data.messages);\r\n\r\n\r\n            let action = stopSubmit('editProfile', errorsObject);\r\n            dispatch(action);\r\n        }\r\n        dispatch(changeIsSavingProfile(false));\r\n\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default profileReducer;","import React, {component} from 'react';\nimport Profile from \"./Profile\";\nimport {\n    changeShowEditProfile,\n    getProfile,\n    getStatus,\n    onAddPost, setAvatar, setProfile,\n    setStatus\n} from \"../../Redux/profile-reducer\";\nimport {connect} from \"react-redux\";\nimport {withRouter} from \"react-router-dom\";\nimport {compose} from \"redux\";\nclass ProfileAPI extends React.Component {\n    componentDidMount() {\n\n        let userID = this.props.match.params.userID || this.props.authUser;\n\n        if (userID) {\n            this.props.getProfile(userID);\n            this.props.getStatus(userID);\n        } else {\n            this.props.history.push('/login');\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        let userID = this.props.match.params.userID || this.props.authUser,\n            userIDPrev = prevProps.match.params.userID || prevProps.authUser;\n        if (!userID) {this.props.history.push('/login');}\n        if (userID !== userIDPrev ) {\n            this.props.getProfile(userID);\n            this.props.getStatus(userID);\n        }\n    }\n\n    render() {\n        return <Profile {...this.props} isOwner={this.props.authUser && ((+this.props.authUser === +this.props.match.params.userID) || !this.props.match.params.userID)}/>\n    }\n\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        newPost: state.profilePage.newPost,\n        postList: state.profilePage.postList,\n        profileInfo: state.profilePage.profileInfo,\n        status: state.profilePage.status,\n        authUser: state.auth.userId,\n        isLoadingAvatar: state.profilePage.isLoadingAvatar,\n        showEditProfile: state.profilePage.showEditProfile,\n        isSavingProfile: state.profilePage.isSavingProfile,\n    }\n};\n\n\nexport default   compose(\n    withRouter,\n    connect(mapStateToProps, {onAddPost, getProfile, getStatus, setStatus, setAvatar, setProfile, changeShowEditProfile}))(ProfileAPI);\n\n","import {userAPI} from \"../DAL/api\";\r\n\r\nconst prefix = (actionType) => \"users/\" + actionType;\r\n\r\nconst FOLLOW = prefix('FOLLOW'),\r\n    SET_USER = prefix('SET_USER'),\r\n    SET_CURRENT_PAGE = prefix('SET_CURRENT_PAGE'),\r\n    SET_USER_COUNT = prefix('SET_USER_COUNT'),\r\n    CHANGE_IS_LOADING = prefix('CHANGE_IS_LOADING'),\r\n    CHANGE_IS_FOLLOWING = prefix('CHANGE_IS_FOLLOWING');\r\n\r\nlet initialState = {\r\n    userList: [],\r\n    pageSize: 10,\r\n    paginationPageSize: 10,\r\n    userCount: 0,\r\n    currentPage: 1,\r\n    isLoading: false,\r\n    isFollowing: []\r\n\r\n};\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                userList: state.userList.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {\r\n                            ...u,\r\n                            followed: !u.followed\r\n                        }\r\n                    } else return u;\r\n                })\r\n            };\r\n\r\n\r\n        case SET_USER:\r\n\r\n            return {\r\n                ...state,\r\n                userList: [...action.userList]\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n        case SET_USER_COUNT:\r\n\r\n            return {\r\n                ...state,\r\n                userCount: action.userCount\r\n            };\r\n\r\n        case CHANGE_IS_LOADING:\r\n\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading\r\n            };\r\n        case CHANGE_IS_FOLLOWING:\r\n\r\n            return {\r\n                ...state,\r\n                isFollowing: action.isFollowing ?\r\n                    [...state.isFollowing, action.userId]\r\n                    : state.isFollowing.filter(userId => (userId != action.userId))\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({\r\n    type: FOLLOW,\r\n    userId\r\n});\r\nexport const setUsers = (userList) => ({\r\n    type: SET_USER,\r\n    userList\r\n});\r\nexport const setCurrentPage = (currentPage) => ({\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage\r\n});\r\nexport const setUserCount = (userCount) => ({\r\n    type: SET_USER_COUNT,\r\n    userCount\r\n});\r\nexport const changeLoading = (isLoading) => ({\r\n    type: CHANGE_IS_LOADING,\r\n    isLoading\r\n});\r\nexport const changeFollowing = (isFollowing, userId) => ({\r\n    type: CHANGE_IS_FOLLOWING,\r\n    isFollowing,\r\n    userId\r\n});\r\nexport const getUsers = (pageSize, currentPage) => {\r\n    return async (dispatch) => {\r\n        dispatch(changeLoading(true));\r\n        const data = await userAPI.getUsers(pageSize, currentPage);\r\n        dispatch(changeLoading(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUserCount(data.totalCount));\r\n    }\r\n};\r\nconst followUnfollow = async (dispatch, apiMethod, userId) => {\r\n\r\n    dispatch(changeFollowing(true, userId));\r\n    const data = await apiMethod(userId);\r\n    if (data.resultCode === 0) {\r\n        dispatch(followSuccess(userId));\r\n    }\r\n    dispatch(changeFollowing(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return (dispatch) => {\r\n        const apiMethod = userAPI.follow.bind(userAPI);\r\n        followUnfollow(dispatch, apiMethod, userId);\r\n    }\r\n};\r\nexport const unfollow = (userId) => {\r\n    return (dispatch) => {\r\n        const apiMethod = userAPI.unFollow.bind(userAPI);\r\n        followUnfollow(dispatch, apiMethod, userId);\r\n    }\r\n};\r\nexport default usersReducer;","import React from 'react';\r\nimport cn from '../index.module.css';\r\nimport thumb from '../../../assets/userpic.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nlet User = ({user, follow, unfollow, isFollowing}) => {\r\n    return (\r\n        <div className={cn.user__wrap}>\r\n            <div className={cn.user__wrap_img}>\r\n                <NavLink to={\"/profile/\" + user.id}><img\r\n                    src={user.photos.small ? user.photos.small : thumb} alt={user.name}/></NavLink>\r\n                <button className={cn.user__follow}\r\n                        disabled={isFollowing.some(userId => (userId === user.id))} onClick={() => {\r\n                    if (!user.followed) {\r\n                        follow(user.id);\r\n                    } else {\r\n                        unfollow(user.id);\r\n                    }\r\n                }}> {user.followed ? 'Unfollow' : 'Follow'} </button>\r\n            </div>\r\n            <div className={cn.user__info}>\r\n                <div>\r\n                    <h5 className={cn.user__name}>{user.name}</h5>\r\n                    <p className={cn.user__status}>{user.status}</p>\r\n                </div>\r\n                <div className={cn.user__location}>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","import cn from './index.module.css';\r\nimport classNames from \"classnames\";\r\nimport React from \"react\";\r\n\r\nconst PREV_ARROW = '<',\r\n    NEXT_ARROW = '>',\r\n    SPACE_SYMBOL = '...';\r\n\r\nconst getPagination = (currentPage, allPages, posPagin) => {\r\n    let pagination = [];\r\n\r\n    if (posPagin >= allPages) {\r\n        for (let i = 1; i <= allPages; i++) {\r\n            pagination[i] = i;\r\n        }\r\n    } else {\r\n        if (currentPage > allPages / 2) {\r\n            if (currentPage < allPages - (posPagin - 3)) {\r\n                pagination[1] = 1;\r\n                pagination[2] = SPACE_SYMBOL;\r\n                let startPos = currentPage - Math.floor((posPagin - 2) / 2);\r\n                for (let i = 3; i <= posPagin; i++) {\r\n                    pagination[i] = startPos;\r\n                    startPos++;\r\n                }\r\n                pagination[posPagin + 1] = SPACE_SYMBOL;\r\n                pagination[posPagin + 2] = allPages;\r\n            } else {\r\n                pagination[1] = 1;\r\n                pagination[2] = SPACE_SYMBOL;\r\n                let startPos = allPages - (posPagin - 2);\r\n                for (let i = 3; i <= posPagin + 1; i++) {\r\n                    pagination[i] = startPos;\r\n                    startPos++;\r\n                }\r\n            }\r\n        } else {\r\n            if (currentPage < posPagin - 2) {\r\n                for (let i = 1; i <= posPagin - 2; i++) {\r\n                    pagination[i] = i;\r\n                }\r\n                pagination[posPagin - 1] = SPACE_SYMBOL;\r\n                pagination[posPagin] = allPages;\r\n            } else {\r\n                pagination[1] = 1;\r\n                pagination[2] = SPACE_SYMBOL;\r\n                let startPos = currentPage - Math.floor((posPagin - 2) / 2);\r\n                for (let i = 3; i <= posPagin; i++) {\r\n                    pagination[i] = startPos;\r\n                    startPos++;\r\n                }\r\n                pagination[posPagin + 1] = SPACE_SYMBOL;\r\n                pagination[posPagin + 2] = allPages;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (currentPage !== 1) pagination.unshift(PREV_ARROW);\r\n    if (currentPage !== allPages) pagination.push(NEXT_ARROW);\r\n\r\n\r\n    return pagination;\r\n};\r\n\r\nlet Pagination = ({userCount, pageSize, paginationPageSize, currentPage, setPage}) => {\r\n    let pageCount = Math.ceil(userCount / pageSize);\r\n    let pageArr = getPagination(currentPage, pageCount, paginationPageSize);\r\n    /*    let pageArr = [];\r\n       for (let i = 1; i <= pageCount; i++) {\r\n            pageArr[i] = i;\r\n        }*/\r\n    return (\r\n        <div className={cn.pagination__wrap}>\r\n            {pageArr.map((pageNum, index) => {\r\n                if (pageNum === PREV_ARROW) {\r\n                    return <span key={index}\r\n                                 className={classNames(cn.pagination__item)}\r\n                                 onClick={() => setPage(currentPage - 1)}>{pageNum}</span>\r\n                } else if (pageNum === NEXT_ARROW) {\r\n                    return <span key={index}\r\n                                 className={classNames(cn.pagination__item)}\r\n                                 onClick={() => setPage(currentPage + 1)}>{pageNum}</span>\r\n                } else if (pageNum === SPACE_SYMBOL) {\r\n                    return <span key={index}\r\n                                 className={classNames(cn.pagination__item, cn.pagination__space)}>{pageNum}</span>\r\n                } else {\r\n                    return <span key={index}\r\n                                 className={classNames(cn.pagination__item, {[cn.pagination__item_current]: pageNum === currentPage})}\r\n                                 onClick={() => pageNum !== currentPage ? setPage(pageNum) : null}>{pageNum}</span>\r\n                }\r\n            })}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Pagination;","import React from 'react';\r\nimport User from \"./User\";\r\nimport Preloader from \"../common/Preloader\";\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\n\r\nlet Users = (props) => {\r\n    return (\r\n        <>\r\n            {props.isLoading ? <Preloader/> : null}\r\n            <Pagination userCount = {props.userCount} pageSize = {props.pageSize} paginationPageSize = {props.paginationPageSize} currentPage = {props.currentPage} setPage={props.setPage}/>\r\n            {props.userList.map(u => (<User key={u.id} user={u} follow={props.follow} unfollow={props.unfollow} isFollowing = {props.isFollowing}/>))}\r\n        </>\r\n\r\n    )\r\n};\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSlc = (state) => {\r\n    return state.usersPage.userList;\r\n};\r\nexport const getPageSizeSlc = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getUsersRslc = createSelector(\r\n    [getUsersSlc],\r\n    (users) => ( users.map( (u) =>  u) )\r\n);\r\nexport const getUserCountSlc = (state) => {\r\n    return state.usersPage.userCount;\r\n};\r\nexport const getCurrentPageSlc = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\nexport const getIsLoadingSlc = (state) => {\r\n    return state.usersPage.isLoading;\r\n};\r\nexport const getIsFollowingSlc = (state) => {\r\n    return state.usersPage.isFollowing;\r\n};","import React from 'react';\r\nimport {\r\n    follow, unfollow,  setCurrentPage, getUsers\r\n} from \"../../Redux/users-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n    getCurrentPageSlc,\r\n    getIsFollowingSlc,\r\n    getIsLoadingSlc,\r\n    getPageSizeSlc,\r\n    getUserCountSlc,\r\n    getUsersRslc\r\n} from \"../../Redux/selectors\";\r\n\r\nclass UserAPI extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.pageSize, this.props.currentPage);\r\n    }\r\n\r\n    setPage = (pageNum) => {\r\n        this.props.getUsers(this.props.pageSize, pageNum);\r\n        this.props.setCurrentPage(pageNum);\r\n    };\r\n\r\n    render() {\r\n        return <Users {...this.props} setPage = {this.setPage}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => { return {\r\n    userList: getUsersRslc(state),\r\n    pageSize: getPageSizeSlc(state),\r\n    paginationPageSize: state.usersPage.paginationPageSize,\r\n    userCount: getUserCountSlc(state),\r\n    currentPage: getCurrentPageSlc(state),\r\n    isLoading: getIsLoadingSlc(state),\r\n    isFollowing: getIsFollowingSlc(state)\r\n}};\r\n\r\n\r\nconst UsersContainer = connect(mapStateToProps,\r\n    {follow, unfollow, setCurrentPage, getUsers})(UserAPI);\r\n\r\nexport default UsersContainer;","import {authMe} from \"./auth-reducer\";\r\n\r\nconst prefix = (actionType) => \"app/\" + actionType;\r\n\r\nconst INITIALIZATION_SUCCESS = prefix('INITIALIZATION_SUCCESS');\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nlet appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZATION_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setInitial = () => ({type: INITIALIZATION_SUCCESS});\r\n\r\nexport const initialization = () => {\r\n    return async (dispatch) => {\r\n        await dispatch(authMe());\r\n        dispatch(setInitial());\r\n    };\r\n};\r\n\r\nexport default appReducer;","import React, {Suspense} from 'react';\r\n\r\nlet withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback = { <div> Загрузка...</div>}> <Component {...props} /></Suspense>;\r\n    }\r\n};\r\n\r\nexport default withSuspense;","import React from 'react';\nimport './App.css';\nimport Header from \"./components/Header/HeaderContainer\"\nimport Nav from \"./components/Nav/\"\nimport Profile from \"./components/Profile/ProfileContainer\"\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport User from \"./components/Users/UsersContainer\";\nimport {compose} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {initialization} from \"./Redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader\";\nimport withSuspense from './HOC/withSuspense';\nconst Dialog = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\n\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initialization();\n    }\n\n    render() {\n        if(!this.props.initialized) {\n            return <Preloader />;\n        }\n        return (\n            <div className = \"app-wrapper\">\n                <Header />\n                <Nav/>\n                <main className = \"content\">\n                    <Switch>\n                        <Redirect exact from = \"/\" to = \"/profile\" />\n                        <Route path = \"/dialogs\" render = { withSuspense(Dialog)} />\n                        <Route path = \"/profile/:userID?\" render = {() => <Profile />} />\n                        <Route path = \"/users\" render = {() => <User />} />\n                        <Route path = \"/login\" render = { withSuspense(Login)} />\n                    </Switch>\n                </main>\n            </div>\n        );\n    }\n}\n\nlet mapStateToProps = (state) => ({\n        initialized: state.app.initialized\n    });\n\nexport default compose(withRouter,connect(mapStateToProps, {initialization}))(App);\n","let initialState = {\r\n    friendList: [\r\n        {id: 11, name: \"Anton\", ava: \"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg\"},\r\n        {\r\n            id: 12,\r\n            name: \"Grisha\",\r\n            ava: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLQH5fsQDLH3DZjPBQE0dvFa5fx-XaSo3yiMdLP6SI9_3ZAMv5&s\"\r\n        },\r\n    ]\r\n};\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nconst reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunk)\r\n));\r\n\r\n//const store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nexport default store;","import React from 'react';\nimport * as serviceWorker from './serviceWorker';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\nimport store from \"./Redux/redux-store\";\nimport {Provider} from \"react-redux\";\n\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store = {store}>\n            <App />\n        </Provider>\n    </HashRouter>, document.getElementById('root'));\n\n\n\n\n\n\n\nwindow.store = store;\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Nav_item__30lC2\",\"active\":\"Nav_active__335rx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__wrap\":\"Users_user__wrap__2sOeI\",\"user__wrap_img\":\"Users_user__wrap_img__1DAYX\",\"user__follow\":\"Users_user__follow__GZHaX\",\"user__info\":\"Users_user__info__3OG3s\",\"user__name\":\"Users_user__name__1tm3y\",\"user__status\":\"Users_user__status__3CufL\",\"user__location\":\"Users_user__location__2DbS8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination__wrap\":\"Pagination_pagination__wrap__1IhTw\",\"pagination__item\":\"Pagination_pagination__item__3ZtzX\",\"pagination__space\":\"Pagination_pagination__space__akVHa\",\"pagination__item_current\":\"Pagination_pagination__item_current__JAfeD\"};","export const required = (value) => {\r\n  if (value) {\r\n      return undefined;\r\n  }\r\n  else {\r\n      return \"Поле обязательно для заполнения\";\r\n  }\r\n};\r\n\r\nexport const maxValueCreator = (maxValue) => (value) => {\r\n        if (value && value.length && value.length <= maxValue) {\r\n            return undefined;\r\n        }\r\n        else {\r\n            return \"Длина поля должна быть не более \"+ maxValue;\r\n        }\r\n};\r\n\r\nexport const minValueCreator = (minValue) => {\r\n    return (value) => {\r\n        if (value && value.length && value.length >= minValue) {\r\n            return undefined;\r\n        }\r\n        else {\r\n            return \"Длина поля должна быть не менее \"+ minValue;\r\n        }\r\n    };\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"Friends_active__2j-tr\",\"friends__wrapper\":\"Friends_friends__wrapper__3N869\",\"friend\":\"Friends_friend__3D92S\",\"friend__ava\":\"Friends_friend__ava__2_5wV\",\"friend__name\":\"Friends_friend__name__1YX3v\"};","import {authAPI, securityAPI} from \"../DAL/api\";\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst prefix = (actionType) => \"auth/\" + actionType;\r\n\r\nconst SET_AUTH_USER = prefix('SET_AUTH_USER');\r\nconst DEL_AUTH_USER = prefix('DEL_AUTH_USER');\r\nconst SET_CAPTCHA = prefix('SET_CAPTCHA');\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captcha: null\r\n};\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER:\r\n            return {\r\n                ...state,\r\n                userId: action.userId,\r\n                email: action.email,\r\n                login: action.login,\r\n                isAuth: true\r\n            };\r\n\r\n        case DEL_AUTH_USER:\r\n            return {\r\n                ...state,\r\n                userId: null,\r\n                email: null,\r\n                login: null,\r\n                isAuth: false\r\n            };\r\n        case SET_CAPTCHA:\r\n            return {\r\n                ...state,\r\n                captcha: action.captchaURL\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUser = (userId, email, login) => ({\r\n    type: SET_AUTH_USER,\r\n    userId,\r\n    email,\r\n    login\r\n});\r\nexport const delAuthUser = () => ({type: DEL_AUTH_USER});\r\n\r\nexport const setCaptcha = (captchaURL) => ({\r\n    type: SET_CAPTCHA,\r\n    captchaURL\r\n});\r\nexport const authMe = () => {\r\n    return (dispatch) => {\r\n        return authAPI.getAuth()\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    let {id, email, login} = data.data;\r\n                    dispatch(setAuthUser(id, email, login));\r\n                }\r\n            })\r\n    };\r\n};\r\n\r\nexport const setAuth = (loginData) => {\r\n    return async (dispatch) => {\r\n        const data = await authAPI.setAuth(loginData);\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(authMe());\r\n        } else {\r\n            if (data.resultCode === 10) {\r\n                dispatch(getCaptcha());\r\n            }\r\n            let action = stopSubmit('login', {_error: data.messages.join(', ')});\r\n            dispatch(action);\r\n        }\r\n\r\n\r\n    };\r\n};\r\n\r\nexport const getCaptcha = () => {\r\n    return async (dispatch) => {\r\n        const data = await securityAPI.getCaptcha();\r\n        dispatch(setCaptcha(data.url));\r\n    };\r\n};\r\n\r\nexport const delAuth = () => {\r\n    return async (dispatch) => {\r\n        const data = await authAPI.delAuth();\r\n        if (data.resultCode === 0) {\r\n            dispatch(delAuthUser());\r\n        }\r\n    };\r\n\r\n};\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormComponents_formControl__2qY8U\",\"error\":\"FormComponents_error__1LyRD\",\"errorMessage\":\"FormComponents_errorMessage__2u4t_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader__wrap\":\"Preloader_preloader__wrap__hQljB\",\"preload__circle\":\"Preloader_preload__circle__3bPLW\",\"sk-double-bounce\":\"Preloader_sk-double-bounce__1uJbh\",\"preload__circle2\":\"Preloader_preload__circle2__3PBtb\"};","module.exports = __webpack_public_path__ + \"static/media/userpic.96e4e20a.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__25Z3j\",\"ava\":\"Post_ava__2Y_jX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1uCQ8\",\"link\":\"Header_link__1Mjf1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2OxQF\"};"],"sourceRoot":""}