{"version":3,"sources":["components/Users/index.module.css","components/Header/index.module.css","assets/userpic.png","components/Profile/index.module.css","components/Profile/Post/index.module.css","Redux/dialogs-reducer.js","assets/logo.svg","components/Profile/ProfileInfo/index.module.css","assets/addPhoto.svg","components/common/Preloader/index.module.css","DAL/api.js","components/common/FormComponents/FormComponents.jsx","serviceWorker.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Nav/Friends/Friend/index.jsx","components/Nav/Friends/Friends.jsx","components/Nav/Friends/FriendsContainer.jsx","components/Nav/index.jsx","components/Profile/Post/index.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileAvatar/ProfileAvatar.jsx","components/Profile/ProfileInfo/ProfileDetails/ProfileDetails.jsx","components/Profile/ProfileInfo/ProfileDetails/ProfileDetailsForm.jsx","components/Profile/ProfileInfo/index.jsx","components/common/Preloader/index.jsx","components/Profile/Profile.jsx","components/common/validate/helper.js","Redux/profile-reducer.js","components/Profile/ProfileContainer.jsx","Redux/users-reducer.js","components/Users/User/index.jsx","components/common/Pagination/Pagination.jsx","components/Users/Users.jsx","Redux/selectors.js","components/Users/UsersContainer.jsx","Redux/app-reducer.js","HOC/withSuspense.js","App.js","Redux/sidebar-reducer.js","Redux/redux-store.js","index.js","components/Nav/index.module.css","components/common/validate/validate.js","components/Nav/Friends/index.module.css","Redux/auth-reducer.js","components/common/FormComponents/index.module.css"],"names":["module","exports","ADD_MESSAGE","initialState","dialogList","id","name","ava","messageList","text","onAddMessage","newMessageText","dispatch","type","sendMessage","reset","dialogsReducer","state","action","newMessage","instance","axios","withCredentials","headers","baseURL","userAPI","getUsers","pageSize","currentPage","get","then","response","data","follow","userId","post","unFollow","delete","profileAPI","getProfile","setProfile","profile","put","getStatus","setStatus","status","setAvatar","img","formData","FormData","append","authAPI","getAuth","setAuth","loginData","delAuth","getCaptcha","securityAPI","FormComponentWithValidation","input","meta","props","child","hasError","touched","error","className","cn","formControl","children","errorMessage","TextareaField","restProps","TextArea","Input","rows","InputField","createField","component","placeholder","validate","Boolean","window","location","hostname","match","Header","header","src","logo","alt","small","isAuth","onClick","link","login","to","HeaderAPI","this","React","Component","HeaderContainer","connect","auth","Friend","friend","activeClassName","active","friend__ava","friend__name","Friends","friendElements","friendList","map","key","friends__wrapper","FriendsContainer","sidebar","Nav","nav","mode","defaultSelectedKeys","menuActive","Item","item","Text","Typography","memo","size","icon","ProfileStatus","useState","editStatusMode","setEditStatusMode","useEffect","toggleEditStatusMode","isOwner","value","autoFocus","onBlur","onChange","e","currentTarget","strong","onDoubleClick","ProfileAvatar","isLoadingAvatar","profileInfo","loading","photos","large","noAvatarImage","fullName","inputFile","accept","files","length","addPhoto","Contact","contactName","contactValue","contactsItem","code","href","ProfileDetails","changeShowEditProfile","lookingForAJob","lookingForAJobDescription","aboutMe","Object","keys","contacts","detailsEditButton","reduxForm","form","onSubmit","handleSubmit","isSavingProfile","fieldWrap","required","strog","cnFormControl","htmlType","Title","ProfileInfo","showEditProfile","info","infoLeft","level","details","initialValues","Preloader","preloader__wrap","maxLength50","maxValueCreator","NewPostForm","Profile","postElements","postList","likes","onAddPost","newPost","posts","errorToObject","fieldsObject","errors","names","objectToArray","obj","prefix","entries","push","errorsObj","forEach","some","fieldName","toLowerCase","indexOf","substr","fieldNameArr","split","actionType","ADD_POST","SET_PROFILE_INFO","CHANGE_STATUS_TEXT","CHANGE_AVATAR","CHANGE_IS_LOADING_AVATAR","CHANGE_SHOW_EDIT_PROFILE","CHANGE_IS_SAVING_PROFILE","changeStatus","changeLoadingAvatar","changeIsSavingProfile","a","async","profileReducer","newPostText","ProfileAPI","userID","params","authUser","history","prevProps","prevState","userIDPrev","compose","withRouter","profilePage","sendPost","resultCode","getState","errorsObject","messages","stopSubmit","FOLLOW","SET_USER","SET_CURRENT_PAGE","SET_USER_COUNT","CHANGE_IS_LOADING","CHANGE_IS_FOLLOWING","userList","paginationPageSize","userCount","isLoading","isFollowing","followSuccess","changeLoading","changeFollowing","followUnfollow","apiMethod","usersReducer","u","followed","filter","UserAnt","user","unfollow","hoverable","style","width","cover","thumb","Meta","title","description","user__follow","block","disabled","PaginationElement","setPage","defaultCurrent","total","pageNumber","Users","pagination__wrap","Pagination","users__wrap","User","getPageSizeSlc","usersPage","getUsersRslc","createSelector","users","getUserCountSlc","getCurrentPageSlc","getIsLoadingSlc","getIsFollowingSlc","UserAPI","pageNum","setCurrentPage","UsersContainer","bind","items","totalCount","INITIALIZATION_SUCCESS","initialized","appReducer","withSuspense","fallback","Dialog","lazy","Login","App","initialization","pathname","errorAuth","message","showIcon","exact","from","path","render","app","isError","authMe","sidebarReducer","reducers","combineReducers","dialogsPage","authReducer","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","maxValue","SET_AUTH_USER","DEL_AUTH_USER","SET_CAPTCHA","SET_ERROR","email","captcha","setAuthUser","catch","setError","_error","join","captchaURL","url"],"mappings":"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","file":"static/js/main.187db6dc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination__wrap\":\"Users_pagination__wrap__2wkZP\",\"users__wrap\":\"Users_users__wrap__5Y8nv\",\"user__wrap\":\"Users_user__wrap__2sOeI\",\"user__wrap_img\":\"Users_user__wrap_img__1DAYX\",\"user__follow\":\"Users_user__follow__GZHaX\",\"user__info\":\"Users_user__info__3OG3s\",\"user__name\":\"Users_user__name__1tm3y\",\"user__status\":\"Users_user__status__3CufL\",\"user__location\":\"Users_user__location__2DbS8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1uCQ8\",\"small\":\"Header_small__3CoU8\",\"link\":\"Header_link__1Mjf1\"};","module.exports = __webpack_public_path__ + \"static/media/userpic.96e4e20a.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__2OxQF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__25Z3j\",\"ava\":\"Post_ava__2Y_jX\"};","import {reset} from 'redux-form';\r\n\r\nconst prefix = (actionType) => \"dialogs/\" + actionType;\r\n\r\nconst ADD_MESSAGE = prefix('ADD_MESSAGE');\r\nlet initialState = {\r\n    dialogList: [\r\n        {id: 1, name: \"Lena\", ava: \"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg\"},\r\n        {\r\n            id: 2,\r\n            name: \"Sveta\",\r\n            ava: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLQH5fsQDLH3DZjPBQE0dvFa5fx-XaSo3yiMdLP6SI9_3ZAMv5&s\"\r\n        },\r\n        {id: 3, name: \"Petya\", ava: null}\r\n    ],\r\n    messageList: [\r\n        {id: 1, text: \"Hi\"},\r\n        {id: 5, text: \"Hi-hi\"},\r\n        {id: 6, text: \"hi!\"}\r\n    ]\r\n};\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n\r\n            let newMessage = {\r\n                id: 99,\r\n                text: action.newMessageText\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                newMessage: '',\r\n                messageList: [...state.messageList, newMessage]\r\n            };\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessage = (newMessageText) => ({\r\n    type: ADD_MESSAGE,\r\n    newMessageText\r\n});\r\n\r\nexport const onAddMessage = (newMessageText) => {\r\n    return (dispatch) => {\r\n        dispatch(sendMessage(newMessageText));\r\n        dispatch(reset('addMessage'));\r\n    };\r\n};\r\n\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/logo.c5f6f68c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"ProfileInfo_info__36t-A\",\"infoLeft\":\"ProfileInfo_infoLeft__3L1eg\",\"ava\":\"ProfileInfo_ava__3HBR1\",\"loading\":\"ProfileInfo_loading__QaKRj\",\"spin\":\"ProfileInfo_spin__miOFt\",\"inputFile\":\"ProfileInfo_inputFile__3EhNu\",\"name\":\"ProfileInfo_name__1a8Ni\",\"details\":\"ProfileInfo_details__2U98i\",\"status\":\"ProfileInfo_status__VdzTb\",\"contactsItem\":\"ProfileInfo_contactsItem__31MPG\",\"detailsEditButton\":\"ProfileInfo_detailsEditButton__2TmmC\",\"fieldWrap\":\"ProfileInfo_fieldWrap__1gvbd\"};","module.exports = __webpack_public_path__ + \"static/media/addPhoto.3d3e56e7.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader__wrap\":\"Preloader_preloader__wrap__hQljB\",\"preload__circle\":\"Preloader_preload__circle__3bPLW\",\"sk-double-bounce\":\"Preloader_sk-double-bounce__1uJbh\",\"preload__circle2\":\"Preloader_preload__circle2__3PBtb\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '4c873569-9ded-4ac6-9934-04ffb8f5a7e2'\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n});\r\nexport const userAPI = {\r\n    getUsers(pageSize, currentPage) {\r\n        return instance.get(`users?count=${pageSize}&page=${currentPage}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    unFollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    setProfile(profile) {\r\n        return instance.put(`profile/`, profile)\r\n            .then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    setStatus(status) {\r\n        return instance.put('profile/status', {status})\r\n            .then(response => response.data);\r\n    },\r\n    setAvatar(img) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", img);\r\n        const config = { headers: { 'Content-Type': 'multipart/form-data' } };\r\n\r\n        return instance.put('profile/photo', formData, config)\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    setAuth(loginData) {\r\n        return instance.post('/auth/login', {...loginData})\r\n            .then(response => response.data);\r\n    },\r\n    delAuth() {\r\n        return instance.delete('/auth/login')\r\n            .then(response => response.data);\r\n    },\r\n    getCaptcha() {\r\n        return instance.get('/security/get-captcha-url')\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get('/security/get-captcha-url')\r\n            .then(response => response.data);\r\n    }\r\n};\r\n\r\n","import React from \"react\";\r\nimport cn from \"./index.module.css\";\r\nimport {Field} from \"redux-form\";\r\nimport {Input} from \"antd\";\r\n\r\nconst FormComponentWithValidation = ({input, meta, child, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className ={cn.formControl +\" \"+ (hasError ? cn.error : \"\")}>\r\n            {props.children}\r\n            { hasError && <span className = {cn.errorMessage}> {meta.error} </span>}\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport const TextareaField = (props) => {\r\n    const {input, ...restProps} = props;\r\n    const { TextArea } = Input;\r\n    return (\r\n\r\n        <FormComponentWithValidation {...props}><TextArea rows={4} {...input}  {...restProps} /></FormComponentWithValidation>\r\n    )\r\n};\r\n\r\nexport const InputField = (props) => {\r\n    const {input, ...restProps} = props;\r\n    return (\r\n\r\n        <FormComponentWithValidation {...props}><Input {...input} {...restProps} /> </FormComponentWithValidation>\r\n    )\r\n\r\n};\r\n\r\nexport const createField = (name, component, placeholder = \"\", validate = [], props) => {\r\n    return <Field  name = {name}\r\n                   placeholder = {placeholder}\r\n                   component = {component}\r\n                   validate = {validate}\r\n                   {...props} />\r\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport cn from './index.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport logo from \"../../assets/logo.svg\"\n\nconst Header = (props) => {\n  return (\n    <div className={cn.header}>\n        <div>\n            <img src={logo} alt=\"logo\"/>\n            <h1><strong>SOCIAL</strong><span className={cn.small}> NETWORK</span></h1>\n        </div>\n    \t<div>\n            {props.isAuth ?  <span onClick={props.delAuth} className={cn.link}>Выйти, {props.login}</span> : <NavLink to='/login' className={cn.link}> Войти </NavLink>}\n        </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React, {component} from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport { delAuth} from \"../../Redux/auth-reducer\";\n\nclass HeaderAPI extends React.Component{\n\n\n    render() {\n      return <Header {...this.props}/>\n  }\n}\nlet mapStateToProps = (state) => {\n    return ({\n        login: state.auth.login,\n        isAuth: state.auth.isAuth\n    });\n};\n\nlet HeaderContainer = connect(mapStateToProps, {delAuth})(HeaderAPI);\n\nexport default HeaderContainer;\n","import React from 'react';\nimport cn from '../index.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Friend = ({ava, name}) => {\n  return (\n\t<NavLink className={cn.friend} activeClassName={cn.active} to=\"/\">\n\t\t<img src={ava} alt={name} className={cn.friend__ava}/>\n\t\t<span className={cn.friend__name}>{name}</span>\n\t</NavLink>\n  );\n};\n\nexport default Friend;\n","import React from 'react';\nimport cn from './index.module.css';\nimport Friend from \"./Friend\";\n\nconst Friends = ({friendList}) => {\n\tlet friendElements = friendList.map( ({id,name,ava}) => <Friend key = {id} id={id} name={name} ava={ava}/>);\n  return (\n\t<div className={cn.friends__wrapper}>\n\t\t{\n\t\t\tfriendElements\n\t\t}\n\t</div>\n  );\n};\n\nexport default Friends;\n","import React from 'react';\nimport Friends from \"./Friends\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToProps = (state) => {return {\n    friendList: state.sidebar.friendList\n}};\n\n\nconst FriendsContainer = connect(mapStateToProps, {})(Friends);\n\nexport default FriendsContainer;\n","import React from 'react';\nimport cn from './index.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport Friends from \"./Friends/FriendsContainer\";\nimport {Icon, Menu} from \"antd\";\n\nconst Nav = (props) => {\n    return (\n        <nav className={cn.nav}>\n            <Menu\n                mode=\"inline\"\n                defaultSelectedKeys={[props.menuActive]}\n            >\n                <Menu.Item key=\"/profile\">\n                    <NavLink className={cn.item} activeClassName={cn.active} to=\"/profile\">\n                        <Icon type=\"user\" />\n                        <span>Профиль</span>\n                    </NavLink>\n                </Menu.Item>\n                <Menu.Item key=\"/dialogs\">\n                    <NavLink className={cn.item} activeClassName={cn.active} to=\"/dialogs\">\n                        <Icon type=\"mail\"/>\n                        <span>Диалоги</span>\n                    </NavLink>\n                </Menu.Item>\n                <Menu.Item key=\"/users\">\n                    <NavLink className={cn.item} activeClassName={cn.active} to=\"/users\">\n                        <Icon type=\"solution\" />\n                        <span>Пользователи</span>\n                    </NavLink>\n                </Menu.Item>\n            </Menu>\n            <Friends/>\n        </nav>\n    );\n};\n\nexport default Nav;\n","import React from 'react';\nimport cn from './index.module.css';\nimport {Avatar, Typography} from \"antd\";\n\nconst { Text } =  Typography;\n\nconst Post = ({ava, text}) => {\n\n    return (\n        <div className={cn.post}>\n            { cn.ava ?\n                <Avatar  size=\"large\"  src={ava} alt=\"\" />\n            : <Avatar size=\"large\" icon=\"user\" />}\n            <Text>{text}</Text>\n        </div>\n    );\n};\n\nexport default React.memo(Post);","import React, {useState, useEffect} from \"react\";\r\nimport cn from '../index.module.css';\r\nimport {Input, Typography} from \"antd\";\r\n\r\nconst { Text } = Typography;\r\n\r\nconst ProfileStatus = (props) => {\r\n    let [editStatusMode, setEditStatusMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status);\r\n    }, [props.status] );\r\n\r\n    const toggleEditStatusMode = () => {\r\n        if(editStatusMode) {\r\n            props.setStatus(status)\r\n        }\r\n        setEditStatusMode(!editStatusMode);\r\n\r\n    };\r\n    const onChangeStatusText = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n\r\n        return <div className={cn.status}>\r\n            {props.isOwner?\r\n                editStatusMode ?\r\n                    <Input type=\"text\"  value={status} autoFocus={true} onBlur={toggleEditStatusMode} onChange={onChangeStatusText}/>\r\n                    : <Text strong onDoubleClick={toggleEditStatusMode}>{status || \"Input your status...\"}</Text>\r\n                : <Text strong>{status}</Text>\r\n            }\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n};\r\n\r\nexport default ProfileStatus;","import React from \"react\";\r\nimport cn from '../index.module.css';\r\nimport noAvatarImage from \"../../../../assets/userpic.png\";\r\nimport addPhoto from \"../../../../assets/addPhoto.svg\";\r\n\r\nconst ProfileAvatar = ({isLoadingAvatar, profileInfo, isOwner, setAvatar}) => {\r\n    const changeAvatar = (e) => {\r\n        if(e.currentTarget.files.length) {\r\n            setAvatar(e.currentTarget.files[0]);\r\n        }\r\n    };\r\n\r\n        return  (\r\n                <div className={cn.ava+' '+ (isLoadingAvatar ? cn.loading : '')}>\r\n                    <img src={profileInfo.photos.large ? profileInfo.photos.large : noAvatarImage} alt={profileInfo.fullName}/>\r\n                    {isOwner && <label className={cn.inputFile}>\r\n                        <input type=\"file\" accept=\"image/*\" onChange={changeAvatar}/>\r\n                        <img src={addPhoto} alt=\"Add photo\"/>\r\n                    </label>}\r\n                </div>\r\n            )\r\n\r\n\r\n\r\n\r\n};\r\n\r\nexport default ProfileAvatar;","import React from \"react\";\r\nimport cn from \"../index.module.css\";\r\nimport {Button, Divider, Typography} from 'antd';\r\n\r\nconst {Text} = Typography;\r\n\r\nconst ProfileDetails = ({profileInfo, changeShowEditProfile, isOwner}) => {\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <div>{profileInfo.lookingForAJob ?\r\n                    profileInfo.lookingForAJobDescription ?\r\n                        <><Text strong>Ищу работу: </Text><Text>{profileInfo.lookingForAJobDescription}</Text></>\r\n                        : <Text strong> Ищу работу</Text>\r\n                    : <Text strong> Не ищу работу </Text>}\r\n                </div>\r\n                <div>\r\n                    <Text strong>Обо мне: </Text><Text>{profileInfo.aboutMe}</Text>\r\n                </div>\r\n                <div>\r\n                    <Text strong>Контакты:</Text>\r\n                    {Object.keys(profileInfo.contacts).map((key) => {\r\n                        return <Contact key={key} contactName={key} contactValue={profileInfo.contacts[key]}/>\r\n                    })}\r\n                </div>\r\n                <Divider/>\r\n                {isOwner &&\r\n                <Button type={\"primary\"} className={cn.detailsEditButton} onClick={() => {\r\n                    changeShowEditProfile(true);\r\n                }}>Редактировать</Button>}\r\n\r\n            </div>\r\n        </>\r\n    )\r\n\r\n\r\n};\r\n\r\nconst Contact = ({contactName, contactValue}) => {\r\n    return (\r\n        <p className={cn.contactsItem}><Text code>{contactName}: </Text>{contactValue ?\r\n            <Button type=\"link\" href={contactValue}>{contactValue}</Button> : ''}</p>\r\n    );\r\n};\r\n\r\nexport default ProfileDetails;","import React from \"react\";\r\nimport {createField, InputField, TextareaField} from \"../../../common/FormComponents/FormComponents\";\r\nimport cnFormControl from \"../../../common/FormComponents/index.module.css\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport cn from \"../index.module.css\";\r\nimport {required} from \"../../../common/validate/validate\";\r\nimport {Button, Divider, Typography} from 'antd';\r\n\r\nconst {Text} = Typography;\r\n\r\nconst ProfileDetailsForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={props.isSavingProfile ? cn.loading : ''}>\r\n            <div className={cn.fieldWrap}>\r\n                <Text strong>Полное имя: </Text>\r\n                {createField(\"fullName\",InputField, \"Введите имя...\",[required],{type: \"text\"})}</div>\r\n            <div className={cn.fieldWrap}>\r\n                <Text strog>Обо мне: </Text>\r\n                {createField(\"aboutMe\",TextareaField, \"Напишите кратко о себе...\",[required],)}</div>\r\n            <div className={cn.fieldWrap}>\r\n                <Text strong>Ищу работу: </Text>\r\n                {createField(\"lookingForAJob\",InputField, \"\",[],{type: \"checkbox\"})}</div>\r\n            <div className={cn.fieldWrap}>\r\n                <Text strong>Ищу работу - описание: </Text>\r\n                {createField(\"lookingForAJobDescription\",TextareaField, \"Укажите профессиональные навыки...\",[required],)}</div>\r\n            <Text strong>Контакты: </Text><br/>\r\n            <div className={cn.fieldWrap}>\r\n                {Object.keys(props.profileInfo.contacts).map((key) => {\r\n                    return <Contact key = {key} contactName = {key} />\r\n                })}\r\n            </div>\r\n            {props.error &&\r\n            <ul className = {cnFormControl.errorMessage}>\r\n                {props.error}\r\n            </ul>\r\n            }\r\n\r\n            <Divider/>\r\n\r\n            <Button type={\"primary\"} htmlType={\"submit\"} className={cn.detailsEditButton}>Сохранить</Button>\r\n        </form>\r\n    )\r\n\r\n};\r\n\r\nconst Contact = ({contactName}) => {\r\n    return (\r\n        <>\r\n             <Text code> {contactName}</Text>\r\n            {createField(\"contacts.\"+contactName,InputField, \"\",[],{type: \"text\"})}\r\n         </>\r\n    )\r\n};\r\n\r\nexport default  reduxForm({form: 'editProfile'})(ProfileDetailsForm);\r\n","import React from 'react';\nimport cn from './index.module.css';\nimport ProfileStatus from \"./ProfileStatus/ProfileStatus\";\nimport ProfileAvatar from \"./ProfileAvatar/ProfileAvatar\";\nimport ProfileDetails from \"./ProfileDetails/ProfileDetails\";\nimport ProfileDetailsForm from \"./ProfileDetails/ProfileDetailsForm\";\nimport {Typography} from \"antd\";\n\nconst { Title } = Typography;\n\nconst ProfileInfo = ({profileInfo, status, setStatus, isOwner, setAvatar, isLoadingAvatar, setProfile, showEditProfile, changeShowEditProfile, isSavingProfile}) => {\n\n    const onSubmitEditProfileForm = (formData) => {\n        setProfile(formData);\n    };\n\n\n    return (\n        <>\n            <div className={cn.info}>\n                <div className={cn.infoLeft}>\n                    <ProfileAvatar\n                        isLoadingAvatar={isLoadingAvatar}\n                        profileInfo={profileInfo}\n                        isOwner={isOwner}\n                        setAvatar={setAvatar} />\n                    <div>\n                        <Title level={2} className={cn.name}>{profileInfo.fullName}</Title>\n                        <ProfileStatus status={status} setStatus = {setStatus} isOwner = {isOwner}/>\n                    </div>\n                </div>\n                <div className={cn.details}>\n                    {showEditProfile ?  <ProfileDetailsForm\n                        onSubmit={onSubmitEditProfileForm}\n                        profileInfo = {profileInfo}\n                        initialValues={profileInfo}\n                        isSavingProfile = {isSavingProfile}/>\n                        : <ProfileDetails\n                            profileInfo = {profileInfo}\n                            isOwner={isOwner}\n                            changeShowEditProfile = {changeShowEditProfile}/>}\n\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default ProfileInfo;","import React from 'react';\r\nimport cn from './index.module.css';\r\nimport {Spin} from \"antd\";\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div className={cn.preloader__wrap}>\r\n            <Spin size=\"large\"/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Preloader;","import React from 'react';\nimport cn from './index.module.css';\nimport Post from './Post'\nimport ProfileInfo from \"./ProfileInfo\";\nimport Preloader from \"../common/Preloader\";\nimport {reduxForm} from \"redux-form\";\nimport {createField, TextareaField} from \"../common/FormComponents/FormComponents\";\nimport {maxValueCreator, required} from \"../common/validate/validate\";\nimport {Button} from \"antd\";\n\nconst maxLength50 = maxValueCreator(50);\n\nlet NewPostForm = (props) => {\n\n\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                {createField(\"newPost\", TextareaField,\"Введите текст...\",[required, maxLength50])}\n            </div>\n            <Button type={\"primary\"}>Добавить пост</Button>\n        </form>\n    )\n};\n\nNewPostForm = reduxForm({form: \"addPost\"})(NewPostForm);\n\nconst Profile = (props) => {\n    if (!props.profileInfo) return <Preloader/>;\n\n    let postElements = props.postList.map(({id, likes, text, img}) => <Post text={text} key={id} ava={img}\n                                                                            likes={likes}/>);\n\n\n    let addPost = (formData) => {\n        props.onAddPost(formData.newPost);\n    };\n    return (\n        <div className={cn.profile}>\n            <ProfileInfo profileInfo={props.profileInfo}\n                         isOwner = {props.isOwner}\n                         status={props.status}\n                         setStatus={props.setStatus}\n                         setAvatar={props.setAvatar}\n                         isLoadingAvatar={props.isLoadingAvatar}\n                         setProfile = {props.setProfile}\n                         showEditProfile = {props.showEditProfile}\n                         changeShowEditProfile = {props.changeShowEditProfile}\n                         isSavingProfile = {props.isSavingProfile}/>\n            <NewPostForm onSubmit = {addPost}/>\n            <div className={cn.posts}>\n                {\n                    postElements\n                }\n            </div>\n        </div>\n    );\n};\n\nexport default Profile;\n","const DIVIDER_FIELD_NAME = '->';\r\n\r\nconst objectToArray = (obj, prefix) => {\r\n    let names = [];\r\n\r\n    for (let [key] of Object.entries(obj)) {\r\n        if ((typeof obj[key] == 'object') && obj[key] !== null) names.push(...objectToArray(obj[key], key));\r\n        else names.push(prefix? prefix + DIVIDER_FIELD_NAME + key : key);\r\n    }\r\n    return names;\r\n};\r\n\r\nexport const errorToObject = (fieldsObject, errors) => {\r\n    const names = objectToArray(fieldsObject);\r\n    let errorsObj = {};\r\n    errors.forEach( error => {\r\n        names.some( fieldName => {\r\n            if( error.toLowerCase().indexOf(`(${fieldName.toLowerCase()})`) !== -1){\r\n                error = error.substr(0, error.length - fieldName.length - 2);\r\n                if(fieldName.indexOf(DIVIDER_FIELD_NAME) !== -1) {\r\n                    const fieldNameArr = fieldName.split(DIVIDER_FIELD_NAME);\r\n                    if(errorsObj[fieldNameArr[0]]) {\r\n                        errorsObj[fieldNameArr[0]][fieldNameArr[1]] =  error;\r\n                    } else {\r\n                        errorsObj[fieldNameArr[0]] = {};\r\n                        errorsObj[fieldNameArr[0]][fieldNameArr[1]] =  error;\r\n                    }\r\n                } else {\r\n                    errorsObj[fieldName] =  error;\r\n                }\r\n\r\n                return;\r\n            }\r\n        });\r\n    });\r\n\r\n    return errorsObj;\r\n};","import {profileAPI} from \"../DAL/api\";\r\nimport {reset, stopSubmit} from \"redux-form\";\r\nimport {errorToObject} from \"../components/common/validate/helper\";\r\n\r\nconst prefix = (actionType) => \"profile/\" + actionType;\r\n\r\n\r\nconst ADD_POST = prefix('ADD_POST'),\r\n    SET_PROFILE_INFO = prefix('SET_PROFILE_INFO'),\r\n    CHANGE_STATUS_TEXT = prefix('CHANGE_STATUS_TEXT'),\r\n    CHANGE_AVATAR = prefix('CHANGE_AVATAR'),\r\n    CHANGE_IS_LOADING_AVATAR = prefix('CHANGE_IS_LOADING_AVATAR'),\r\n    CHANGE_SHOW_EDIT_PROFILE = prefix('CHANGE_SHOW_EDIT_PROFILE'),\r\n    CHANGE_IS_SAVING_PROFILE = prefix('CHANGE_IS_SAVING_PROFILE');\r\n\r\nlet initialState = {\r\n    postList: [\r\n        {\r\n            id: 1,\r\n            likes: 1,\r\n            text: \"Hi post\",\r\n            img: null\r\n        },\r\n        {\r\n            id: 2,\r\n            likes: 5,\r\n            text: \"Hi-hi post\",\r\n            img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQuPW0HsI_bYceB2aH6y7h3tZuFJj3u0K-8HsbvlWpDU1SbY5-I\"\r\n        },\r\n        {\r\n            id: 3,\r\n            likes: 6,\r\n            text: \"hi post!\",\r\n            img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQuPW0HsI_bYceB2aH6y7h3tZuFJj3u0K-8HsbvlWpDU1SbY5-I\"\r\n        }\r\n    ],\r\n    profileInfo: null,\r\n    status: null,\r\n    isLoadingAvatar: false,\r\n    showEditProfile: false,\r\n    isSavingProfile: false\r\n\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 88,\r\n                likes: 0,\r\n                text: action.newPostText,\r\n                img: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQuPW0HsI_bYceB2aH6y7h3tZuFJj3u0K-8HsbvlWpDU1SbY5-I\"\r\n            };\r\n            return {\r\n                ...state,\r\n                postList: [...state.postList, newPost]\r\n            };\r\n\r\n\r\n        case SET_PROFILE_INFO:\r\n\r\n            return {\r\n                ...state,\r\n                profileInfo: action.profile\r\n            };\r\n        case CHANGE_STATUS_TEXT:\r\n\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n\r\n        case CHANGE_AVATAR:\r\n\r\n            return {\r\n                ...state,\r\n                profileInfo: {...state.profileInfo, photos: action.photos}\r\n            };\r\n        case CHANGE_IS_LOADING_AVATAR:\r\n\r\n            return {\r\n                ...state,\r\n                isLoadingAvatar: action.isLoadingAvatar\r\n            };\r\n\r\n        case CHANGE_SHOW_EDIT_PROFILE:\r\n\r\n            return {\r\n                ...state,\r\n                showEditProfile: action.showEditProfile\r\n            };\r\n        case CHANGE_IS_SAVING_PROFILE:\r\n\r\n            return {\r\n                ...state,\r\n                isSavingProfile: action.isSavingProfile\r\n            };\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendPost = (newPostText) => ({\r\n    type: ADD_POST,\r\n    newPostText\r\n});\r\n\r\nexport const onAddPost = (newPostText) => {\r\n    return (dispatch) => {\r\n        dispatch(sendPost(newPostText));\r\n        dispatch(reset('addPost'));\r\n    };\r\n};\r\n\r\nexport const setProfileInfo = (profile) => ({\r\n    type: SET_PROFILE_INFO,\r\n    profile\r\n});\r\n\r\nexport const changeStatus = (status) => ({\r\n    type: CHANGE_STATUS_TEXT,\r\n    status\r\n});\r\nexport const changeAvatar = (photos) => ({\r\n    type: CHANGE_AVATAR,\r\n    photos\r\n});\r\nexport const changeLoadingAvatar = (isLoadingAvatar) => ({\r\n    type: CHANGE_IS_LOADING_AVATAR,\r\n    isLoadingAvatar\r\n});\r\nexport const changeShowEditProfile = (showEditProfile) => ({\r\n    type: CHANGE_SHOW_EDIT_PROFILE,\r\n    showEditProfile\r\n});\r\nexport const changeIsSavingProfile = (isSavingProfile) => ({\r\n    type: CHANGE_IS_SAVING_PROFILE,\r\n    isSavingProfile\r\n});\r\nexport const getProfile = (userId) => {\r\n    return async (dispatch) => {\r\n        const data = await profileAPI.getProfile(userId);\r\n        dispatch(setProfileInfo(data));\r\n    }\r\n};\r\nexport const getStatus = (userId) => {\r\n    return async (dispatch) => {\r\n        const data = await profileAPI.getStatus(userId);\r\n        dispatch(changeStatus(data));\r\n    }\r\n};\r\nexport const setStatus = (status) => {\r\n    return async (dispatch) => {\r\n        const data = await profileAPI.setStatus(status);\r\n        if (data.resultCode === 0) {\r\n            dispatch(changeStatus(status));\r\n        }\r\n\r\n    }\r\n};\r\n\r\n\r\nexport const setAvatar = (img) => {\r\n    return async (dispatch) => {\r\n        dispatch(changeLoadingAvatar(true));\r\n        const data = await profileAPI.setAvatar(img);\r\n        if (data.resultCode === 0) {\r\n            dispatch(changeAvatar(data.data.photos));\r\n        }\r\n        dispatch(changeLoadingAvatar(false));\r\n\r\n    }\r\n};\r\nexport const setProfile = (profile) => {\r\n    return async (dispatch, getState) => {\r\n        dispatch(changeIsSavingProfile(true));\r\n        const data = await profileAPI.setProfile(profile);\r\n        if (data.resultCode === 0) {\r\n            dispatch(getProfile(getState().auth.userId));\r\n            dispatch(changeShowEditProfile(false));\r\n        } else {\r\n            const errorsObject = errorToObject(profile, data.messages);\r\n\r\n\r\n            let action = stopSubmit('editProfile', errorsObject);\r\n            dispatch(action);\r\n        }\r\n        dispatch(changeIsSavingProfile(false));\r\n\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default profileReducer;","import React, {component} from 'react';\nimport Profile from \"./Profile\";\nimport {\n    changeShowEditProfile,\n    getProfile,\n    getStatus,\n    onAddPost, setAvatar, setProfile,\n    setStatus\n} from \"../../Redux/profile-reducer\";\nimport {connect} from \"react-redux\";\nimport {withRouter} from \"react-router-dom\";\nimport {compose} from \"redux\";\nclass ProfileAPI extends React.Component {\n    componentDidMount() {\n\n        let userID = this.props.match.params.userID || this.props.authUser;\n\n        if (userID) {\n            this.props.getProfile(userID);\n            this.props.getStatus(userID);\n        } else {\n            this.props.history.push('/login');\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        let userID = this.props.match.params.userID || this.props.authUser,\n            userIDPrev = prevProps.match.params.userID || prevProps.authUser;\n        if (!userID) {this.props.history.push('/login');}\n        if (userID !== userIDPrev ) {\n            this.props.getProfile(userID);\n            this.props.getStatus(userID);\n        }\n    }\n\n    render() {\n        return <Profile {...this.props} isOwner={this.props.authUser && ((+this.props.authUser === +this.props.match.params.userID) || !this.props.match.params.userID)}/>\n    }\n\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        newPost: state.profilePage.newPost,\n        postList: state.profilePage.postList,\n        profileInfo: state.profilePage.profileInfo,\n        status: state.profilePage.status,\n        authUser: state.auth.userId,\n        isLoadingAvatar: state.profilePage.isLoadingAvatar,\n        showEditProfile: state.profilePage.showEditProfile,\n        isSavingProfile: state.profilePage.isSavingProfile,\n    }\n};\n\n\nexport default   compose(\n    withRouter,\n    connect(mapStateToProps, {onAddPost, getProfile, getStatus, setStatus, setAvatar, setProfile, changeShowEditProfile}))(ProfileAPI);\n\n","import {userAPI} from \"../DAL/api\";\r\n\r\nconst prefix = (actionType) => \"users/\" + actionType;\r\n\r\nconst FOLLOW = prefix('FOLLOW'),\r\n    SET_USER = prefix('SET_USER'),\r\n    SET_CURRENT_PAGE = prefix('SET_CURRENT_PAGE'),\r\n    SET_USER_COUNT = prefix('SET_USER_COUNT'),\r\n    CHANGE_IS_LOADING = prefix('CHANGE_IS_LOADING'),\r\n    CHANGE_IS_FOLLOWING = prefix('CHANGE_IS_FOLLOWING');\r\n\r\nlet initialState = {\r\n    userList: [],\r\n    pageSize: 10,\r\n    paginationPageSize: 10,\r\n    userCount: 0,\r\n    currentPage: 1,\r\n    isLoading: false,\r\n    isFollowing: []\r\n\r\n};\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                userList: state.userList.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {\r\n                            ...u,\r\n                            followed: !u.followed\r\n                        }\r\n                    } else return u;\r\n                })\r\n            };\r\n\r\n\r\n        case SET_USER:\r\n\r\n            return {\r\n                ...state,\r\n                userList: [...action.userList]\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n        case SET_USER_COUNT:\r\n\r\n            return {\r\n                ...state,\r\n                userCount: action.userCount\r\n            };\r\n\r\n        case CHANGE_IS_LOADING:\r\n\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading\r\n            };\r\n        case CHANGE_IS_FOLLOWING:\r\n\r\n            return {\r\n                ...state,\r\n                isFollowing: action.isFollowing ?\r\n                    [...state.isFollowing, action.userId]\r\n                    : state.isFollowing.filter(userId => (userId !== action.userId))\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({\r\n    type: FOLLOW,\r\n    userId\r\n});\r\nexport const setUsers = (userList) => ({\r\n    type: SET_USER,\r\n    userList\r\n});\r\nexport const setCurrentPage = (currentPage) => ({\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage\r\n});\r\nexport const setUserCount = (userCount) => ({\r\n    type: SET_USER_COUNT,\r\n    userCount\r\n});\r\nexport const changeLoading = (isLoading) => ({\r\n    type: CHANGE_IS_LOADING,\r\n    isLoading\r\n});\r\nexport const changeFollowing = (isFollowing, userId) => ({\r\n    type: CHANGE_IS_FOLLOWING,\r\n    isFollowing,\r\n    userId\r\n});\r\nexport const getUsers = (pageSize, currentPage) => {\r\n    return async (dispatch) => {\r\n        dispatch(changeLoading(true));\r\n        const data = await userAPI.getUsers(pageSize, currentPage);\r\n        dispatch(changeLoading(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUserCount(data.totalCount));\r\n    }\r\n};\r\nconst followUnfollow = async (dispatch, apiMethod, userId) => {\r\n\r\n    dispatch(changeFollowing(true, userId));\r\n    const data = await apiMethod(userId);\r\n    if (data.resultCode === 0) {\r\n        dispatch(followSuccess(userId));\r\n    }\r\n    dispatch(changeFollowing(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return (dispatch) => {\r\n        const apiMethod = userAPI.follow.bind(userAPI);\r\n        followUnfollow(dispatch, apiMethod, userId);\r\n    }\r\n};\r\nexport const unfollow = (userId) => {\r\n    return (dispatch) => {\r\n        const apiMethod = userAPI.unFollow.bind(userAPI);\r\n        followUnfollow(dispatch, apiMethod, userId);\r\n    }\r\n};\r\nexport default usersReducer;","import React from 'react';\r\nimport cn from '../index.module.css';\r\nimport thumb from '../../../assets/userpic.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Button, Card} from \"antd\";\r\n\r\n\r\nconst UserAnt = ({user, follow, unfollow, isFollowing}) => {\r\n    return (\r\n        <Card\r\n            hoverable\r\n            style={{ width: 240 }}\r\n            cover={<img src={user.photos.large ? user.photos.large : thumb} alt={user.name} />}>\r\n            <NavLink to={\"/profile/\" + user.id}>\r\n                <Card.Meta title={user.name} description={user.status} />\r\n            </NavLink>\r\n\r\n            <Button type={\"primary\"}\r\n                    className={cn.user__follow}\r\n                    block\r\n                    disabled={isFollowing.some(userId => (userId === user.id))} onClick={() => {\r\n                if (!user.followed) {\r\n                    follow(user.id);\r\n                } else {\r\n                    unfollow(user.id);\r\n                }\r\n            }}> {user.followed ? 'Убрать из друзей' : 'Добавить в друзья'} </Button>\r\n\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default UserAnt;","import React from \"react\";\r\nimport {Pagination} from \"antd\";\r\n\r\n\r\n\r\nconst PaginationElement = ({userCount, pageSize, paginationPageSize, currentPage, setPage}) => {\r\n    return <Pagination\r\n        defaultCurrent={currentPage}\r\n        total={userCount}\r\n        pageSize={pageSize}\r\n        onChange={(pageNumber) => pageNumber !== currentPage ? setPage(pageNumber) : null} />\r\n};\r\n\r\nexport default PaginationElement;","import React from 'react';\r\nimport User from \"./User\";\r\nimport Preloader from \"../common/Preloader\";\r\nimport Pagination from \"../common/Pagination/Pagination\";\r\nimport cn from './index.module.css';\r\n\r\nlet Users = (props) => {\r\n    return (\r\n        <>\r\n            {props.isLoading ? <Preloader/> : null}\r\n            <div className={cn.pagination__wrap}>\r\n                <Pagination\r\n                    userCount = {props.userCount}\r\n                    pageSize = {props.pageSize}\r\n                    paginationPageSize = {props.paginationPageSize}\r\n                    currentPage = {props.currentPage}\r\n                    setPage={props.setPage}/>\r\n            </div>\r\n\r\n            <div className={cn.users__wrap}>\r\n                {props.userList.map(u => (<User key={u.id} user={u} follow={props.follow} unfollow={props.unfollow} isFollowing = {props.isFollowing}/>))}\r\n            </div>\r\n        </>\r\n\r\n    )\r\n};\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSlc = (state) => {\r\n    return state.usersPage.userList;\r\n};\r\nexport const getPageSizeSlc = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getUsersRslc = createSelector(\r\n    [getUsersSlc],\r\n    (users) => ( users.map( (u) =>  u) )\r\n);\r\nexport const getUserCountSlc = (state) => {\r\n    return state.usersPage.userCount;\r\n};\r\nexport const getCurrentPageSlc = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\nexport const getIsLoadingSlc = (state) => {\r\n    return state.usersPage.isLoading;\r\n};\r\nexport const getIsFollowingSlc = (state) => {\r\n    return state.usersPage.isFollowing;\r\n};","import React from 'react';\r\nimport {\r\n    follow, unfollow,  setCurrentPage, getUsers\r\n} from \"../../Redux/users-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n    getCurrentPageSlc,\r\n    getIsFollowingSlc,\r\n    getIsLoadingSlc,\r\n    getPageSizeSlc,\r\n    getUserCountSlc,\r\n    getUsersRslc\r\n} from \"../../Redux/selectors\";\r\n\r\nclass UserAPI extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.pageSize, this.props.currentPage);\r\n    }\r\n\r\n    setPage = (pageNum) => {\r\n        this.props.getUsers(this.props.pageSize, pageNum);\r\n        this.props.setCurrentPage(pageNum);\r\n    };\r\n\r\n    render() {\r\n        return <Users {...this.props} setPage = {this.setPage}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => { return {\r\n    userList: getUsersRslc(state),\r\n    pageSize: getPageSizeSlc(state),\r\n    paginationPageSize: state.usersPage.paginationPageSize,\r\n    userCount: getUserCountSlc(state),\r\n    currentPage: getCurrentPageSlc(state),\r\n    isLoading: getIsLoadingSlc(state),\r\n    isFollowing: getIsFollowingSlc(state)\r\n}};\r\n\r\n\r\nconst UsersContainer = connect(mapStateToProps,\r\n    {follow, unfollow, setCurrentPage, getUsers})(UserAPI);\r\n\r\nexport default UsersContainer;","import {authMe} from \"./auth-reducer\";\r\n\r\nconst prefix = (actionType) => \"app/\" + actionType;\r\n\r\nconst INITIALIZATION_SUCCESS = prefix('INITIALIZATION_SUCCESS');\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nlet appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZATION_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setInitial = () => ({type: INITIALIZATION_SUCCESS});\r\n\r\nexport const initialization = () => {\r\n    return async (dispatch) => {\r\n        await dispatch(authMe());\r\n        dispatch(setInitial());\r\n    };\r\n};\r\n\r\nexport default appReducer;","import React, {Suspense} from 'react';\r\n\r\nlet withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback = { <div> Загрузка...</div>}> <Component {...props} /></Suspense>;\r\n    }\r\n};\r\n\r\nexport default withSuspense;","import React from 'react';\nimport './App.css';\nimport Header from \"./components/Header/HeaderContainer\"\nimport Nav from \"./components/Nav/\"\nimport Profile from \"./components/Profile/ProfileContainer\"\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport User from \"./components/Users/UsersContainer\";\nimport {compose} from \"redux\";\nimport {connect} from \"react-redux\";\nimport {initialization} from \"./Redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader\";\nimport withSuspense from './HOC/withSuspense';\nimport {Alert} from \"antd\";\nconst Dialog = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\n\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initialization();\n    }\n\n    render() {\n        if(!this.props.initialized) {\n            return <Preloader />;\n        }\n\n        return (\n            <div className = \"app-wrapper\">\n                <Header />\n                <Nav menuActive = {this.props.location.pathname}/>\n                <main className = \"content\">\n                    {this.props.errorAuth\n                        ? <Alert\n                            message=\"Внимание\"\n                            description={`Возникла ошибка при запуске приложения: ${this.props.errorAuth }`}\n                            type=\"warning\"\n                            showIcon />\n                        : <Switch>\n                            <Redirect exact from = \"/\" to = \"/profile\" />\n                            <Route path = \"/dialogs\" render = { withSuspense(Dialog)} />\n                            <Route path = \"/profile/:userID?\" render = {() => <Profile />} />\n                            <Route path = \"/users\" render = {() => <User />} />\n                            <Route path = \"/login\" render = { withSuspense(Login)} />\n                        </Switch>\n                    }\n                </main>\n            </div>\n        );\n    }\n}\n\nlet mapStateToProps = (state) => ({\n        initialized: state.app.initialized,\n        errorAuth: state.auth.isError\n    });\n\nexport default compose(withRouter,connect(mapStateToProps, {initialization}))(App);\n","let initialState = {\r\n    friendList: [\r\n        {id: 11, name: \"Anton\", ava: \"https://igate.com.ua/upload/photo/0001/0001/3383/6955/55.jpg\"},\r\n        {\r\n            id: 12,\r\n            name: \"Grisha\",\r\n            ava: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLQH5fsQDLH3DZjPBQE0dvFa5fx-XaSo3yiMdLP6SI9_3ZAMv5&s\"\r\n        },\r\n    ]\r\n};\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nconst reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunk)\r\n));\r\n\r\n//const store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nexport default store;","import React from 'react';\nimport * as serviceWorker from './serviceWorker';\nimport ReactDOM from 'react-dom';\nimport './custom-antd.css';\nimport './index.css';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\nimport store from \"./Redux/redux-store\";\nimport {Provider} from \"react-redux\";\n\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store = {store}>\n            <App />\n        </Provider>\n    </HashRouter>, document.getElementById('root'));\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Nav_item__30lC2\",\"active\":\"Nav_active__335rx\"};","export const required = (value) => {\r\n  if (value) {\r\n      return undefined;\r\n  }\r\n  else {\r\n      return \"Поле обязательно для заполнения\";\r\n  }\r\n};\r\n\r\nexport const maxValueCreator = (maxValue) => (value) => {\r\n        if (value && value.length && value.length <= maxValue) {\r\n            return undefined;\r\n        }\r\n        else {\r\n            return \"Длина поля должна быть не более \"+ maxValue;\r\n        }\r\n};\r\n\r\nexport const minValueCreator = (minValue) => {\r\n    return (value) => {\r\n        if (value && value.length && value.length >= minValue) {\r\n            return undefined;\r\n        }\r\n        else {\r\n            return \"Длина поля должна быть не менее \"+ minValue;\r\n        }\r\n    };\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"Friends_active__2j-tr\",\"friends__wrapper\":\"Friends_friends__wrapper__3N869\",\"friend\":\"Friends_friend__3D92S\",\"friend__ava\":\"Friends_friend__ava__2_5wV\",\"friend__name\":\"Friends_friend__name__1YX3v\"};","import {authAPI, securityAPI} from \"../DAL/api\";\r\nimport {stopSubmit} from 'redux-form';\r\n\r\nconst prefix = (actionType) => \"auth/\" + actionType;\r\n\r\nconst SET_AUTH_USER = prefix('SET_AUTH_USER');\r\nconst DEL_AUTH_USER = prefix('DEL_AUTH_USER');\r\nconst SET_CAPTCHA = prefix('SET_CAPTCHA');\r\nconst SET_ERROR = prefix('SET_ERROR');\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captcha: null,\r\n    isError: null\r\n};\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER:\r\n            return {\r\n                ...state,\r\n                userId: action.userId,\r\n                email: action.email,\r\n                login: action.login,\r\n                isAuth: true,\r\n                isError: null\r\n            };\r\n\r\n        case DEL_AUTH_USER:\r\n            return {\r\n                ...state,\r\n                userId: null,\r\n                email: null,\r\n                login: null,\r\n                isAuth: false\r\n            };\r\n        case SET_CAPTCHA:\r\n            return {\r\n                ...state,\r\n                captcha: action.captchaURL\r\n            };\r\n        case SET_ERROR:\r\n            return {\r\n                ...state,\r\n                isError: action.error\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUser = (userId, email, login) => ({\r\n    type: SET_AUTH_USER,\r\n    userId,\r\n    email,\r\n    login\r\n});\r\n\r\nexport const setError = (error) => ({\r\n    type: SET_ERROR,\r\n    error\r\n});\r\nexport const delAuthUser = () => ({type: DEL_AUTH_USER});\r\n\r\nexport const setCaptcha = (captchaURL) => ({\r\n    type: SET_CAPTCHA,\r\n    captchaURL\r\n});\r\nexport const authMe = () => {\r\n    return (dispatch) => {\r\n        return authAPI.getAuth()\r\n            .then(response => response.data)\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    let {id, email, login} = data.data;\r\n                    dispatch(setAuthUser(id, email, login));\r\n                }\r\n            })\r\n            .catch( error => {dispatch(setError(error.message));}\r\n            )\r\n    };\r\n};\r\n\r\nexport const setAuth = (loginData) => {\r\n    return async (dispatch) => {\r\n        const data = await authAPI.setAuth(loginData);\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(authMe());\r\n        } else {\r\n            if (data.resultCode === 10) {\r\n                dispatch(getCaptcha());\r\n            }\r\n            let action = stopSubmit('login', {_error: data.messages.join(', ')});\r\n            dispatch(action);\r\n        }\r\n\r\n\r\n    };\r\n};\r\n\r\nexport const getCaptcha = () => {\r\n    return async (dispatch) => {\r\n        const data = await securityAPI.getCaptcha();\r\n        dispatch(setCaptcha(data.url));\r\n    };\r\n};\r\n\r\nexport const delAuth = () => {\r\n    return async (dispatch) => {\r\n        const data = await authAPI.delAuth();\r\n        if (data.resultCode === 0) {\r\n            dispatch(delAuthUser());\r\n        }\r\n    };\r\n\r\n};\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormComponents_formControl__2qY8U\",\"error\":\"FormComponents_error__1LyRD\",\"errorMessage\":\"FormComponents_errorMessage__2u4t_\"};"],"sourceRoot":""}